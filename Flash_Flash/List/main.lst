##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.40A/W32 EVALUATION    05/Nov/2014  12:42:30 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  arm                                                  #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  L:\work\σκημ\σκημ\σκημ\Compil_iar440\main.c          #
#    Command line    =  L:\work\σκημ\σκημ\σκημ\Compil_iar440\main.c -D ESS   #
#                       -lC L:\work\σκημ\σκημ\σκημ\Compil_iar440\Flash_Flash #
#                       \List\ -lA L:\work\σκημ\σκημ\σκημ\Compil_iar440\Flas #
#                       h_Flash\List\ -o L:\work\σκημ\σκημ\σκημ\Compil_iar44 #
#                       0\Flash_Flash\Obj\ -z9 --debug --cpu_mode arm        #
#                       --endian little --cpu ARM7TDMI --stack_align 4 -e    #
#                       --fpu None --dlib_config "C:\Program Files           #
#                       (x86)\IAR Systems\Embedded Workbench 4.0             #
#                       Evaluation\ARM\LIB\dl4tpannl8n.h" -I                 #
#                       L:\work\σκημ\σκημ\σκημ\Compil_iar440\srciar\ -I      #
#                       L:\work\σκημ\σκημ\σκημ\Compil_iar440\..\..\ -I       #
#                       "C:\Program Files (x86)\IAR Systems\Embedded         #
#                       Workbench 4.0 Evaluation\ARM\INC\"                   #
#    List file       =  L:\work\σκημ\σκημ\σκημ\Compil_iar440\Flash_Flash\Lis #
#                       t\main.lst                                           #
#    Object file     =  L:\work\σκημ\σκημ\σκημ\Compil_iar440\Flash_Flash\Obj #
#                       \main.r79                                            #
#                                                                            #
#                                                                            #
##############################################################################

L:\work\σκημ\σκημ\σκημ\Compil_iar440\main.c
      1          
      2          #include "..\AT91SAM7S256.h"
      3          #define __inline inline
      4          #include "..\lib_AT91SAM7S256.h"
      5          #include <stdio.h>
      6          #include <math.h>
      7          #include <string.h>
      8          #include "board.h"
      9          //#include "frequency.c"
     10          #include "cossintable.h" 
     11          
     12          //*************************************************************
     13          // Controller blocks pointers
     14          
     15          AT91PS_PMC  pPMC  = AT91C_BASE_PMC;
     16          AT91PS_PIO  pPIO  = AT91C_BASE_PIOA;
     17          AT91PS_TC   pTC0  = AT91C_BASE_TC0;
     18          AT91PS_DBGU pDBGU = AT91C_BASE_DBGU;  
     19          AT91PS_ADC  pADC  = AT91C_BASE_ADC;
     20          AT91PS_SPI  pSPI  = AT91C_BASE_SPI;
     21          AT91PS_USART pUS0 = AT91C_BASE_US0;
     22          
     23          //************************************************
     24          // Common global variables 
     25          
     26          #define ADC_Buf_Shift 9
     27          #define ADC_Buf_Size (1 << ADC_Buf_Shift)

   \                                 In segment DATA_N, align 4, align-sorted
     28          __no_init signed short ADC_Buf [ADC_Buf_Size];
   \                     ADC_Buf:
   \   00000000                      DS8 1024
     29          
     30          #define DBGU_Buf_Size 1000
     31          __no_init char DBGU_Buf [DBGU_Buf_Size];
     32          #define US0_BufSize 256
     33          __no_init char US0_SendBuf[US0_BufSize];
     34          __no_init char US0_RecvBuf[US0_BufSize];
     35          
     36          #include "myprintf.c" //function myprintf, uses DBGU_Buf anf Led control

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void DBGU_SendBuf(int)
   \                     DBGU_SendBuf:
   \   00000000   08109FE5           LDR      R1,??DBGU_SendBuf_0  ;; ValSKZ + 60
   \   00000004   001091E5           LDR      R1,[R1, #+0]
   \   00000008   ........           LDR      R2,??DataTable19  ;; _A_RAMConfig + 512
   \   0000000C   ........           B        ?Subroutine0
   \                     ??DBGU_SendBuf_0:
   \   00000010   ........           DC32     ValSKZ + 60

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine0:
   \   00000000   082181E5           STR      R2,[R1, #+264]
   \   00000004   0C0181E5           STR      R0,[R1, #+268]
   \   00000008   0200A0E3           MOV      R0,#+2
   \   0000000C   CF20E0E3           MVN      R2,#+207
   \   00000010   B02EC2E3           BIC      R2,R2,#0xB00
   \   00000014   000082E5           STR      R0,[R2, #+0]
   \                     ??Subroutine0_2:
   \   00000018   0C2191E5           LDR      R2,[R1, #+268]
   \   0000001C   000052E3           CMP      R2,#+0
   \   00000020   FCFFFF1A           BNE      ??Subroutine0_2
   \   00000024   CB10E0E3           MVN      R1,#+203
   \   00000028   B01EC1E3           BIC      R1,R1,#0xB00
   \                     ??Subroutine0_0:
   \   0000002C   000081E5           STR      R0,[R1, #+0]
   \   00000030   0EF0A0E1           MOV      PC,LR            ;; return
   \                     ??Subroutine0_1:
   \   00000034   ........           DC32     ValSKZ + 72
   \   00000038   ........           DC32     _A_RAMConfig + 1512

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void US0_Send(int)
   \                     US0_Send:
   \   00000000   ........           LDR      R1,??Subroutine0_1  ;; ValSKZ + 72
   \   00000004   001091E5           LDR      R1,[R1, #+0]
   \   00000008   ........           LDR      R2,??Subroutine0_1+0x4  ;; _A_RAMConfig + 1512
   \   0000000C                      REQUIRE ?Subroutine0
   \   0000000C                      ;; // Fall through to label ?Subroutine0
     37          
     38          signed char Gain; //current gain power of 2 = gain, 0 - gain 1, 3 - gain 8
     39          unsigned char GainTable[9] = {0, 128, 192, 224, 240, 248, 252, 254, 255};

   \                                 In segment CODE, align 4, keep-with-next
     40          inline void SetGain(unsigned int a) {Gain=a; pSPI->SPI_TDR = (0x010D << 16)|GainTable[a]; while (!(pSPI->SPI_SR & (1<<9))) {};}
   \                     SetGain:
   \   00000000   2C109FE5           LDR      R1,??SetGain_0   ;; ValSKZ
   \   00000004   F800C1E5           STRB     R0,[R1, #+248]
   \   00000008   442091E5           LDR      R2,[R1, #+68]
   \   0000000C   010080E0           ADD      R0,R0,R1
   \   00000010   FC00D0E5           LDRB     R0,[R0, #+252]
   \   00000014   4017A0E3           MOV      R1,#+16777216
   \   00000018   D01A81E3           ORR      R1,R1,#0xD0000
   \   0000001C   000081E1           ORR      R0,R1,R0
   \   00000020   0C0082E5           STR      R0,[R2, #+12]
   \                     ??SetGain_1:
   \   00000024   100092E5           LDR      R0,[R2, #+16]
   \   00000028   800F10E3           TST      R0,#0x200
   \   0000002C   FCFFFF0A           BEQ      ??SetGain_1
   \   00000030   0EF0A0E1           MOV      PC,LR            ;; return
   \                     ??SetGain_0:
   \   00000034   ........           DC32     ValSKZ
     41          
     42          inline void SetGainCode(unsigned char c) {pSPI->SPI_TDR = (0x010D << 16)|c; while (!(pSPI->SPI_SR & (1<<9))) {};}

   \                                 In segment DATA_Z, align 1, align-sorted
     43          unsigned char GainCode = 0;
   \                     GainCode:
   \   00000000                      DS8 1
     44          int first_pass=1;
     45          #define Max_ValFreqCount 18
     46          typedef unsigned short SKZ_ARRAY[Max_ValFreqCount]; //0 - DC level, 19*250 - 4.75KHz level
     47          SKZ_ARRAY SKZ;
     48          float f_SKZ[Max_ValFreqCount];

   \                                 In segment DATA_Z, align 4, align-sorted
     49          unsigned int  ReadSKZ1[Max_ValFreqCount], ReadSKZ2[Max_ValFreqCount],MinSKZ_val=30,Object_on_level=40, Object_on=0;
   \                     ReadSKZ1:
   \   00000000                      DS8 72

   \                                 In segment DATA_Z, align 4, align-sorted
   \                     ReadSKZ2:
   \   00000000                      DS8 72
     50          signed int RelValSKZ;
     51          char RelValSKZ1toSKZ2;
     52          unsigned short ValSKZ;
     53          unsigned int UARTRateTable[] = {300, 600, 1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200};
     54          //timeout set in bits for modbus. for speed <=19200 it equal 3,5 char = 
     55          unsigned int UARTTimeoutTable[] = {39, 39, 39, 39, 39, 39, 39, 39*2, 39*3, 39*6};
     56          
     57          
     58          typedef struct //struct to interprete data in config
     59          {
     60            unsigned int UARTRate;
     61            unsigned int ModbusAddr;
     62            unsigned int ValFreqCount;
     63            SKZ_ARRAY SKZ_1, SKZ_2,Change;
     64            unsigned short ValSKZ_1, ValSKZ_2;
     65            unsigned char FreqOrder[Max_ValFreqCount];
     66          } CONFIG, *PCONFIG;
     67          

   \                                 In segment DATA_C, align 256, align-sorted
     68          const CONFIG DefaultConfig = {5, 1, 3}; //rate 9600, addr 1, 1 frequency (Βΰρθλθι Βλΰδθμθπξβθχ μενιςε ΰδπερ Σ!!!)
   \                     DefaultConfig:
   \   00000000   050000000100       DC32 5, 1, 3
   \              000003000000
   \   0000000C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000001C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000002C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000003C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000004C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000005C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000006C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000007C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000        
   \   00000090   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \   000000A7   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \   000000BE   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \   000000D5   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \   000000EC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000        
     69          
     70          #define FPageSize 64
     71          #pragma data_alignment=256
     72          const unsigned int FlashConfig [FPageSize] = {0xFF}; //flash page for config
   \                     FlashConfig:
   \   00000100   FF000000           DC32 255
   \   00000104   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000114   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000124   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000134   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000144   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000154   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000164   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000174   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000184   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000194   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \   00000200   436F6E666967       DC8 "Config write OK!\012\015"
   \              207772697465
   \              204F4B210A0D
   \              00          
   \   00000213   00                 DC8 0
   \   00000214   436F6E666967       DC8 "Config read...\012\015"
   \              20726561642E
   \              2E2E0A0D00  
   \   00000225   000000             DC8 0, 0, 0
   \   00000228   436F6E666967       DC8 "Config wrong, use default config...\012\015"
   \              2077726F6E67
   \              2C2075736520
   \              64656661756C
   \              7420636F6E66
   \              69672E2E2E0A
   \              0D00        
   \   0000024E   0000               DC8 0, 0
   \   00000250   436F6E666967       DC8 "Config read OK!\012\015"
   \              207265616420
   \              4F4B210A0D00
   \   00000262   0000               DC8 0, 0

   \                                 In segment DATA_N, align 4, align-sorted
     73          
     74          __no_init union
     75          {
     76            unsigned int RAMConfig [FPageSize]; //ram page for config
     77            CONFIG Config;
     78          };
   \                     _A_RAMConfig:
   \   00000000                      DS8 256
   \                     US0_RecvBuf:
   \   00000100                      DS8 256
   \                     DBGU_Buf:
   \   00000200                      DS8 1000
   \                     US0_SendBuf:
   \   000005E8                      DS8 256
     79          

   \                                 In segment CODE, align 4, keep-with-next
     80          inline void US0_SetBaudRate (unsigned int Rate)
     81          {
   \                     US0_SetBaudRate:
   \   00000000   00402DE9           PUSH     {LR}
     82            pUS0->US_BRGR = 3225600 / UARTRateTable [Rate];
   \   00000004   24109FE5           LDR      R1,??US0_SetBaudRate_0  ;; ValSKZ
   \   00000008   002181E0           ADD      R2,R1,R0, LSL #+2
   \   0000000C   483091E5           LDR      R3,[R1, #+72]
   \   00000010   C009A0E3           MOV      R0,#+3145728
   \   00000014   4E0B80E3           ORR      R0,R0,#0x13800
   \   00000018   A81092E5           LDR      R1,[R2, #+168]
   \   0000001C   ........           _BLF     ??divu32_a,??rA??divu32_a
   \   00000020   201083E5           STR      R1,[R3, #+32]
     83            pUS0->US_RTOR = UARTTimeoutTable [Rate];//bits
   \   00000024   D00092E5           LDR      R0,[R2, #+208]
   \   00000028   240083E5           STR      R0,[R3, #+36]
     84          }
   \   0000002C   0080BDE8           POP      {PC}             ;; return
   \                     ??US0_SetBaudRate_0:
   \   00000030   ........           DC32     ValSKZ

   \                                 In segment CODE_I, align 4, keep-with-next
     85          __ramfunc void WriteConfig()             //τσνκφθ ηΰοθρθ βξ flash οΰμςό ηνΰχενθι SKZ1 SKZ2
     86          {
   \                     WriteConfig:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
     87            unsigned int i;
     88            unsigned int * Flash;
     89            unsigned int * RAMBuf;
     90            unsigned int Page;
     91            AT91PS_MC pMC = AT91C_BASE_MC;
     92            
     93            Flash = (unsigned int *)&FlashConfig[0];
   \   00000004   402FA0E3           MOV      R2,#+256
   \   00000008   64109FE5           LDR      R1,??WriteConfig_0  ;; DefaultConfig
   \   0000000C   013082E0           ADD      R3,R2,R1
     94            RAMBuf   = (unsigned int *)&RAMConfig[0];
   \   00000010   60009FE5           LDR      R0,??WriteConfig_0+0x4  ;; _A_RAMConfig
   \   00000014   00C0A0E1           MOV      R12,R0
     95            
     96            Page = ((unsigned int)Flash >> 8) & 0x3FF;
   \   00000018   012082E0           ADD      R2,R2,R1
   \   0000001C   0227A0E1           LSL      R2,R2,#+14
   \   00000020   222BA0E1           LSR      R2,R2,#+22
     97          
     98            //copy flash to ram 
     99            for (i=0; i<FPageSize; i++, Flash++, RAMBuf++) *Flash = *RAMBuf; 
   \   00000024   4040A0E3           MOV      R4,#+64
   \                     ??WriteConfig_1:
   \   00000028   ........           LDR      R5,[R12], #+4
   \   0000002C   ........           STR      R5,[R3], #+4
   \   00000030   014054E2           SUBS     R4,R4,#+1
   \   00000034   FBFFFF1A           BNE      ??WriteConfig_1
    100            
    101          //  pMC->MC_FMR = 0x00500100;
    102            pMC->MC_FCR = ((0x5A000000) | 0x01 | (Page << 8));
   \   00000038   9B30E0E3           MVN      R3,#+155
   \   0000003C   0140A0E3           MOV      R4,#+1
   \   00000040   5A4484E3           ORR      R4,R4,#0x5A000000
   \   00000044   022484E1           ORR      R2,R4,R2, LSL #+8
   \   00000048   002083E5           STR      R2,[R3, #+0]
    103            
    104            //* Wait the end of command
    105            while ((pMC->MC_FSR & 0x01) != 1) {};
   \                     ??WriteConfig_2:
   \   0000004C   042083E2           ADD      R2,R3,#+4
   \   00000050   002092E5           LDR      R2,[R2, #+0]
   \   00000054   010012E3           TST      R2,#0x1
   \   00000058   FBFFFF0A           BEQ      ??WriteConfig_2
    106           
    107            myprintf ("Config write OK!\n\r");
   \   0000005C   802FA0E3           MOV      R2,#+512
   \   00000060   011082E0           ADD      R1,R2,R1
   \   00000064   000082E0           ADD      R0,R2,R0
   \   00000068   ........           _BLF     sprintf,??sprintf??rA?CODE_I
   \   0000006C   3040BDE8           POP      {R4,R5,LR}       ;; Pop
   \   00000070   ........           _BF      DBGU_SendBuf,??DBGU_SendBuf??rA?CODE_I  ;; tailcall
   \                     ??WriteConfig_0:
   \   00000074   ........           DC32     DefaultConfig
   \   00000078   ........           DC32     _A_RAMConfig
    108          }

   \                                 In segment CODE, align 4, keep-with-next
    109          void ReadInitConfig()
    110          {
   \                     ReadInitConfig:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
    111            unsigned int i;
    112            for (i=0; i<FPageSize; i++) RAMConfig[i] = FlashConfig[i]; //copy flash to ram
   \   00000004   0000A0E3           MOV      R0,#+0
   \   00000008   ........           LDR      R4,??DataTable28  ;; _A_RAMConfig
   \   0000000C   74509FE5           LDR      R5,??ReadInitConfig_0  ;; DefaultConfig
   \                     ??ReadInitConfig_1:
   \   00000010   001185E0           ADD      R1,R5,R0, LSL #+2
   \   00000014   001191E5           LDR      R1,[R1, #+256]
   \   00000018   001184E7           STR      R1,[R4, +R0, LSL #+2]
   \   0000001C   010080E2           ADD      R0,R0,#+1
   \   00000020   400050E3           CMP      R0,#+64
   \   00000024   F9FFFF3A           BCC      ??ReadInitConfig_1
    113            myprintf ("Config read...\n\r");
   \   00000028   806FA0E3           MOV      R6,#+512
   \   0000002C   851F85E2           ADD      R1,R5,#+532
   \   00000030   040086E0           ADD      R0,R6,R4
   \   00000034   ........           _BLF     sprintf,??sprintf??rA
   \   00000038   ........           BL       DBGU_SendBuf
    114            if (Config.UARTRate > 9) //wrong rate - no config
   \   0000003C   000094E5           LDR      R0,[R4, #+0]
   \   00000040   0A0050E3           CMP      R0,#+10
   \   00000044   0A00003A           BCC      ??ReadInitConfig_2
    115            {
    116              Config = DefaultConfig;
   \   00000048   9010A0E3           MOV      R1,#+144
   \                     ??ReadInitConfig_3:
   \   0000004C   041051E2           SUBS     R1,R1,#+4
   \   00000050   010095E7           LDR      R0,[R5, R1]
   \   00000054   010084E7           STR      R0,[R4, R1]
   \   00000058   FBFFFF1A           BNE      ??ReadInitConfig_3
    117              myprintf ("Config wrong, use default config...\n\r");
   \   0000005C   8A1F85E2           ADD      R1,R5,#+552
   \   00000060   040086E0           ADD      R0,R6,R4
   \   00000064   ........           _BLF     sprintf,??sprintf??rA
   \   00000068   ........           BL       DBGU_SendBuf
    118              WriteConfig();
   \   0000006C   7040BDE8           POP      {R4-R6,LR}       ;; Pop
   \   00000070   ........           _BF      WriteConfig,??WriteConfig??rA  ;; tailcall
    119              return;
    120            }
    121            myprintf ("Config read OK!\n\r");
   \                     ??ReadInitConfig_2:
   \   00000074   941F85E2           ADD      R1,R5,#+592
   \   00000078   040086E0           ADD      R0,R6,R4
   \   0000007C   ........           _BLF     sprintf,??sprintf??rA
   \   00000080   7040BDE8           POP      {R4-R6,LR}       ;; Pop
   \   00000084   ........           B        DBGU_SendBuf     ;; tailcall
   \                     ??ReadInitConfig_0:
   \   00000088   ........           DC32     DefaultConfig
    122          }
    123          
    124          

   \                                 In segment CODE, align 4, keep-with-next
    125          void MyprintfConfig()
    126          {
   \                     MyprintfConfig:
   \   00000000   00402DE9           PUSH     {LR}
    127            myprintf ("UART: %6d, Addr: %3d = 0x%2X Freq: %2d (Enter to save)\n\r",
    128                      UARTRateTable [Config.UARTRate],
    129                      Config.ModbusAddr, Config.ModbusAddr,
    130                      Config.ValFreqCount );
   \   00000004   ........           LDR      R0,??DataTable28  ;; _A_RAMConfig
   \   00000008   043090E5           LDR      R3,[R0, #+4]
   \   0000000C   081090E5           LDR      R1,[R0, #+8]
   \   00000010   02002DE9           PUSH     {R1}
   \   00000014   0310A0E1           MOV      R1,R3
   \   00000018   02002DE9           PUSH     {R1}
   \   0000001C   ........           LDR      R1,[R0], #+512
   \   00000020   ........           LDR      R2,??DataTable27  ;; ValSKZ
   \   00000024   011182E0           ADD      R1,R2,R1, LSL #+2
   \   00000028   A82091E5           LDR      R2,[R1, #+168]
   \   0000002C   08109FE5           LDR      R1,??MyprintfConfig_0  ;; `?<Constant "UART: %6d, Addr: %3d ...">`
   \   00000030   ........           _BLF     sprintf,??sprintf??rA
   \   00000034   ........           BL       DBGU_SendBuf
    131          }
   \   00000038   0380BDE8           POP      {R0,R1,PC}       ;; return
   \                     ??MyprintfConfig_0:
   \   0000003C   ........           DC32     `?<Constant "UART: %6d, Addr: %3d ...">`
    132          

   \                                 In segment CODE, align 4, keep-with-next
    133          void SetUARTRate (unsigned char Rate) { Config.UARTRate = Rate; US0_SetBaudRate(Rate);};
   \                     SetUARTRate:
   \   00000000   ........           LDR      R1,??DataTable28  ;; _A_RAMConfig
   \   00000004   000081E5           STR      R0,[R1, #+0]
   \   00000008   ........           _BF      US0_SetBaudRate,??US0_SetBaudRate??rA  ;; tailcall

   \                                 In segment CODE, align 4, keep-with-next
    134          void SetModbusAddr (unsigned char Addr) { Config.ModbusAddr = Addr; };
   \                     SetModbusAddr:
   \   00000000   00109FE5           LDR      R1,??SetModbusAddr_0  ;; _A_RAMConfig + 4
   \   00000004   ........           B        ??Subroutine0_0
   \                     ??SetModbusAddr_0:
   \   00000008   ........           DC32     _A_RAMConfig + 4

   \                                 In segment CODE, align 4, keep-with-next
    135          void SetValFreqCount (unsigned char Count) {Config.ValFreqCount = Count; };
   \                     SetValFreqCount:
   \   00000000   00109FE5           LDR      R1,??SetValFreqCount_0  ;; _A_RAMConfig + 8
   \   00000004   ........           B        ??Subroutine0_0
   \                     ??SetValFreqCount_0:
   \   00000008   ........           DC32     _A_RAMConfig + 8
    136          
    137          inline unsigned short HiLow (unsigned char Hi, unsigned char Low) 
    138                                      {return ((Hi<<8)|Low);}
    139          inline unsigned char Hi (unsigned short Val) {return (Val>>8);}
    140          inline unsigned char Low (unsigned short Val) {return (Val&0xFF);}
    141          
    142          #include "Frequency.c"

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs unsigned short CalcValSKZ(unsigned short *)
   \                     CalcValSKZ:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0020A0E1           MOV      R2,R0
   \   00000008   0000A0E3           MOV      R0,#+0
   \   0000000C   0010A0E3           MOV      R1,#+0
   \   00000010   0030A0E1           MOV      R3,R0
   \   00000014   ........           LDR      R12,??DataTable28  ;; _A_RAMConfig
   \   00000018   08609CE5           LDR      R6,[R12, #+8]
   \   0000001C   050000EA           B        ??CalcValSKZ_0
   \                     ??CalcValSKZ_1:
   \   00000020   0CE083E0           ADD      LR,R3,R12
   \   00000024   7CE0DEE5           LDRB     LR,[LR, #+124]
   \   00000028   8EE082E0           ADD      LR,R2,LR, LSL #+1
   \   0000002C   B040DEE1           LDRH     R4,[LR, #+0]
   \   00000030   9404A1E0           UMLAL    R0,R1,R4,R4
   \   00000034   013083E2           ADD      R3,R3,#+1
   \                     ??CalcValSKZ_0:
   \   00000038   060053E1           CMP      R3,R6
   \   0000003C   F7FFFF3A           BCC      ??CalcValSKZ_1
   \   00000040   ........           _BLF     __longLongToFloat,??__longLongToFloat??rA
   \   00000044   ........           _BLF     __floatToDouble,??__floatToDouble??rA
   \   00000048   ........           _BLF     sqrt,??sqrt??rA
   \   0000004C   0040A0E1           MOV      R4,R0
   \   00000050   0150A0E1           MOV      R5,R1
   \   00000054   0600A0E1           MOV      R0,R6
   \   00000058   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   0000005C   0020A0E1           MOV      R2,R0
   \   00000060   0130A0E1           MOV      R3,R1
   \   00000064   0400A0E1           MOV      R0,R4
   \   00000068   0510A0E1           MOV      R1,R5
   \   0000006C   ........           _BLF     __dDiv,??__dDiv??rA
   \   00000070   ........           _BLF     __doubleToLong,??__doubleToLong??rA
   \   00000074   0008A0E1           MOV      R0,R0, LSL #+16
   \   00000078   2008A0E1           MOV      R0,R0, LSR #+16
   \   0000007C   7080BDE8           POP      {R4-R6,PC}       ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void CalcSKZ()
   \                     CalcSKZ:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   D8DF4DE2           SUB      SP,SP,#+864
   \   00000008   0020A0E3           MOV      R2,#+0
   \   0000000C   0030A0E3           MOV      R3,#+0
   \   00000010   0240A0E1           MOV      R4,R2
   \   00000014   ........           LDR      R9,??DataTable6  ;; ADC_Buf
   \                     ??CalcSKZ_0:
   \   00000018   840089E0           ADD      R0,R9,R4, LSL #+1
   \   0000001C   F000D0E1           LDRSH    R0,[R0, #+0]
   \   00000020   C01FA0E1           ASR      R1,R0,#+31
   \   00000024   002092E0           ADDS     R2,R2,R0
   \   00000028   0130A3E0           ADC      R3,R3,R1
   \   0000002C   014084E2           ADD      R4,R4,#+1
   \   00000030   800F54E3           CMP      R4,#+512
   \   00000034   F7FFFF3A           BCC      ??CalcSKZ_0
   \   00000038   A224A0E1           LSR      R2,R2,#+9
   \   0000003C   832B82E1           ORR      R2,R2,R3, LSL #+23
   \   00000040   00C0A0E3           MOV      R12,#+0
   \                     ??CalcSKZ_1:
   \   00000044   8C4089E0           ADD      R4,R9,R12, LSL #+1
   \   00000048   F050D4E1           LDRSH    R5,[R4, #+0]
   \   0000004C   020045E0           SUB      R0,R5,R2
   \   00000050   B000C4E1           STRH     R0,[R4, #+0]
   \   00000054   01C08CE2           ADD      R12,R12,#+1
   \   00000058   800F5CE3           CMP      R12,#+512
   \   0000005C   F8FFFF3A           BCC      ??CalcSKZ_1
   \   00000060   0880A0E3           MOV      R8,#+8
   \   00000064   0050A0E3           MOV      R5,#+0
   \                     ??CalcSKZ_2:
   \   00000068   00E0A0E3           MOV      LR,#+0
   \   0000006C   0020A0E3           MOV      R2,#+0
   \   00000070   0230A0E1           MOV      R3,R2
   \   00000074   0200A0E1           MOV      R0,R2
   \   00000078   0010A0E1           MOV      R1,R0
   \   0000007C   00C0A0E1           MOV      R12,R0
   \                     ??CalcSKZ_3:
   \   00000080   8C4089E0           ADD      R4,R9,R12, LSL #+1
   \   00000084   F0A0D4E1           LDRSH    R10,[R4, #+0]
   \   00000088   ........           LDR      R4,??DataTable23  ;; ValSKZ
   \   0000008C   286094E5           LDR      R6,[R4, #+40]
   \   00000090   8E6086E0           ADD      R6,R6,LR, LSL #+1
   \   00000094   F070D6E1           LDRSH    R7,[R6, #+0]
   \   00000098   970A06E0           MUL      R6,R7,R10
   \   0000009C   C67FA0E1           ASR      R7,R6,#+31
   \   000000A0   062092E0           ADDS     R2,R2,R6
   \   000000A4   0730A3E0           ADC      R3,R3,R7
   \   000000A8   2C6094E5           LDR      R6,[R4, #+44]
   \   000000AC   8E6086E0           ADD      R6,R6,LR, LSL #+1
   \   000000B0   F070D6E1           LDRSH    R7,[R6, #+0]
   \   000000B4   970A06E0           MUL      R6,R7,R10
   \   000000B8   C67FA0E1           ASR      R7,R6,#+31
   \   000000BC   060090E0           ADDS     R0,R0,R6
   \   000000C0   0710A1E0           ADC      R1,R1,R7
   \   000000C4   88628EE0           ADD      R6,LR,R8, LSL #+5
   \   000000C8   0669A0E1           LSL      R6,R6,#+18
   \   000000CC   26E9A0E1           LSR      LR,R6,#+18
   \   000000D0   01C08CE2           ADD      R12,R12,#+1
   \   000000D4   800F5CE3           CMP      R12,#+512
   \   000000D8   E8FFFF3A           BCC      ??CalcSKZ_3
   \   000000DC   A224A0E1           LSR      R2,R2,#+9
   \   000000E0   832B82E1           ORR      R2,R2,R3, LSL #+23
   \   000000E4   C334A0E1           ASR      R3,R3,#+9
   \   000000E8   A004A0E1           LSR      R0,R0,#+9
   \   000000EC   810B80E1           ORR      R0,R0,R1, LSL #+23
   \   000000F0   C114A0E1           ASR      R1,R1,#+9
   \   000000F4   926287E0           UMULL    R6,R7,R2,R2
   \   000000F8   927327E0           MLA      R7,R2,R3,R7
   \   000000FC   937227E0           MLA      R7,R3,R2,R7
   \   00000100   902083E0           UMULL    R2,R3,R0,R0
   \   00000104   903123E0           MLA      R3,R0,R1,R3
   \   00000108   913023E0           MLA      R3,R1,R0,R3
   \   0000010C   020096E0           ADDS     R0,R6,R2
   \   00000110   0310A7E0           ADC      R1,R7,R3
   \   00000114   0D20A0E1           MOV      R2,SP
   \   00000118   856182E0           ADD      R6,R2,R5, LSL #+3
   \   0000011C   030086E8           STM      R6,{R0,R1}
   \   00000120   ........           _BLF     __longLongToDouble,??__longLongToDouble??rA
   \   00000124   ........           _BLF     sqrt,??sqrt??rA
   \   00000128   ........           _BLF     __doubleToLongLong,??__doubleToLongLong??rA
   \   0000012C   030086E8           STM      R6,{R0,R1}
   \   00000130   030096E8           LDM      R6,{R0,R1}
   \   00000134   2007A0E1           LSR      R0,R0,#+14
   \   00000138   010980E1           ORR      R0,R0,R1, LSL #+18
   \   0000013C   4117A0E1           ASR      R1,R1,#+14
   \   00000140   030086E8           STM      R6,{R0,R1}
   \   00000144   015085E2           ADD      R5,R5,#+1
   \   00000148   018088E2           ADD      R8,R8,#+1
   \   0000014C   5A0055E3           CMP      R5,#+90
   \   00000150   C4FFFF3A           BCC      ??CalcSKZ_2
   \   00000154   0190A0E3           MOV      R9,#+1
   \   00000158   0000A0E3           MOV      R0,#+0
   \   0000015C   0050A0E3           MOV      R5,#+0
   \                     ??CalcSKZ_4:
   \   00000160   0D10A0E1           MOV      R1,SP
   \   00000164   801181E0           ADD      R1,R1,R0, LSL #+3
   \   00000168   0C0091E8           LDM      R1,{R2,R3}
   \   0000016C   000053E3           CMP      R3,#+0
   \   00000170   030000BA           BLT      ??CalcSKZ_5
   \   00000174   010000CA           BGT      ??CalcSKZ_6
   \   00000178   210052E3           CMP      R2,#+33
   \   0000017C   0000003A           BCC      ??CalcSKZ_5
   \                     ??CalcSKZ_6:
   \   00000180   0090A0E3           MOV      R9,#+0
   \                     ??CalcSKZ_5:
   \   00000184   010080E2           ADD      R0,R0,#+1
   \   00000188   5A0050E3           CMP      R0,#+90
   \   0000018C   F3FFFF3A           BCC      ??CalcSKZ_4
   \   00000190   0000A0E3           MOV      R0,#+0
   \                     ??CalcSKZ_7:
   \   00000194   0D10A0E1           MOV      R1,SP
   \   00000198   801181E0           ADD      R1,R1,R0, LSL #+3
   \   0000019C   0C0091E8           LDM      R1,{R2,R3}
   \   000001A0   000053E3           CMP      R3,#+0
   \   000001A4   030000BA           BLT      ??CalcSKZ_8
   \   000001A8   010000CA           BGT      ??CalcSKZ_9
   \   000001AC   810052E3           CMP      R2,#+129
   \   000001B0   0000003A           BCC      ??CalcSKZ_8
   \                     ??CalcSKZ_9:
   \   000001B4   0590E0E1           MVN      R9,R5
   \                     ??CalcSKZ_8:
   \   000001B8   010080E2           ADD      R0,R0,#+1
   \   000001BC   5A0050E3           CMP      R0,#+90
   \   000001C0   F3FFFF3A           BCC      ??CalcSKZ_7
   \   000001C4   0030A0E3           MOV      R3,#+0
   \                     ??CalcSKZ_10:
   \   000001C8   0D00A0E1           MOV      R0,SP
   \   000001CC   836180E0           ADD      R6,R0,R3, LSL #+3
   \   000001D0   030096E8           LDM      R6,{R0,R1}
   \   000001D4   F820D4E5           LDRB     R2,[R4, #+248]
   \   000001D8   082062E2           RSB      R2,R2,#+8
   \   000001DC   ........           _BLF     ??lllsl_a,??rA??lllsl_a
   \   000001E0   030086E8           STM      R6,{R0,R1}
   \   000001E4   013083E2           ADD      R3,R3,#+1
   \   000001E8   5A0053E3           CMP      R3,#+90
   \   000001EC   F5FFFF3A           BCC      ??CalcSKZ_10
   \   000001F0   0080A0E3           MOV      R8,#+0
   \                     ??CalcSKZ_11:
   \   000001F4   B40F8DE2           ADD      R0,SP,#+720
   \   000001F8   88E180E0           ADD      LR,R0,R8, LSL #+3
   \   000001FC   0000A0E3           MOV      R0,#+0
   \   00000200   0010A0E1           MOV      R1,R0
   \   00000204   03008EE8           STM      LR,{R0,R1}
   \   00000208   00C0A0E1           MOV      R12,R0
   \                     ??CalcSKZ_12:
   \   0000020C   0500A0E3           MOV      R0,#+5
   \   00000210   90C821E0           MLA      R1,R0,R8,R12
   \   00000214   0D00A0E1           MOV      R0,SP
   \   00000218   810180E0           ADD      R0,R0,R1, LSL #+3
   \   0000021C   030090E8           LDM      R0,{R0,R1}
   \   00000220   0C009EE8           LDM      LR,{R2,R3}
   \   00000224   0260A0E1           MOV      R6,R2
   \   00000228   0370A0E1           MOV      R7,R3
   \   0000022C   902083E0           UMULL    R2,R3,R0,R0
   \   00000230   903123E0           MLA      R3,R0,R1,R3
   \   00000234   913023E0           MLA      R3,R1,R0,R3
   \   00000238   0710A0E1           MOV      R1,R7
   \   0000023C   020096E0           ADDS     R0,R6,R2
   \   00000240   0310A1E0           ADC      R1,R1,R3
   \   00000244   03008EE8           STM      LR,{R0,R1}
   \   00000248   01C08CE2           ADD      R12,R12,#+1
   \   0000024C   05005CE3           CMP      R12,#+5
   \   00000250   EDFFFF3A           BCC      ??CalcSKZ_12
   \   00000254   018088E2           ADD      R8,R8,#+1
   \   00000258   120058E3           CMP      R8,#+18
   \   0000025C   E4FFFF3A           BCC      ??CalcSKZ_11
   \   00000260   A05084E5           STR      R5,[R4, #+160]
   \   00000264   0080A0E3           MOV      R8,#+0
   \                     ??CalcSKZ_13:
   \   00000268   086184E0           ADD      R6,R4,R8, LSL #+2
   \   0000026C   B40F8DE2           ADD      R0,SP,#+720
   \   00000270   880180E0           ADD      R0,R0,R8, LSL #+3
   \   00000274   030090E8           LDM      R0,{R0,R1}
   \   00000278   ........           _BLF     __longLongToFloat,??__longLongToFloat??rA
   \   0000027C   ........           _BLF     __floatToDouble,??__floatToDouble??rA
   \   00000280   ........           _BLF     sqrt,??sqrt??rA
   \   00000284   0020A0E1           MOV      R2,R0
   \   00000288   0130A0E1           MOV      R3,R1
   \   0000028C   A004A0E3           MOV      R0,#-1610612736
   \   00000290   3C119FE5           LDR      R1,??CalcSKZ_14  ;; 0x3fc99999
   \   00000294   ........           _BLF     __dMul,??__dMul??rA
   \   00000298   00A0A0E1           MOV      R10,R0
   \   0000029C   01B0A0E1           MOV      R11,R1
   \   000002A0   501096E5           LDR      R1,[R6, #+80]
   \   000002A4   2C019FE5           LDR      R0,??CalcSKZ_14+0x4  ;; 0x3f4ccccd
   \   000002A8   ........           _BLF     __fMul,??__fMul??rA
   \   000002AC   ........           _BLF     __floatToDouble,??__floatToDouble??rA
   \   000002B0   0A20A0E1           MOV      R2,R10
   \   000002B4   0B30A0E1           MOV      R3,R11
   \   000002B8   ........           _BLF     __dAdd,??__dAdd??rA
   \   000002BC   ........           _BLF     __doubleToFloat,??__doubleToFloat??rA
   \   000002C0   500086E5           STR      R0,[R6, #+80]
   \   000002C4   88A084E0           ADD      R10,R4,R8, LSL #+1
   \   000002C8   ........           _BLF     floorf,??floorf??rA
   \   000002CC   ........           _BLF     __floatToLong,??__floatToLong??rA
   \   000002D0   B400CAE1           STRH     R0,[R10, #+4]
   \   000002D4   B400DAE1           LDRH     R0,[R10, #+4]
   \   000002D8   981094E5           LDR      R1,[R4, #+152]
   \   000002DC   010050E1           CMP      R0,R1
   \   000002E0   B450CA31           STRHCC   R5,[R10, #+4]
   \   000002E4   9C0094E5           LDR      R0,[R4, #+156]
   \   000002E8   B410DAE1           LDRH     R1,[R10, #+4]
   \   000002EC   010050E1           CMP      R0,R1
   \   000002F0   FF00A033           MOVCC    R0,#+255
   \   000002F4   FF0C8033           ORRCC    R0,R0,#0xFF00
   \   000002F8   A0008435           STRCC    R0,[R4, #+160]
   \   000002FC   018088E2           ADD      R8,R8,#+1
   \   00000300   120058E3           CMP      R8,#+18
   \   00000304   D7FFFF3A           BCC      ??CalcSKZ_13
   \   00000308   040084E2           ADD      R0,R4,#+4
   \   0000030C   ........           BL       CalcValSKZ
   \   00000310   B000C4E1           STRH     R0,[R4, #+0]
   \   00000314   ........           LDR      R6,??DataTable16  ;; _A_RAMConfig
   \   00000318   B887D6E1           LDRH     R8,[R6, #+120]
   \   0000031C   BA07D6E1           LDRH     R0,[R6, #+122]
   \   00000320   080050E1           CMP      R0,R8
   \   00000324   01008002           ADDEQ    R0,R0,#+1
   \   00000328   BA07C601           STRHEQ   R0,[R6, #+122]
   \   0000032C   B000D4E1           LDRH     R0,[R4, #+0]
   \   00000330   080040E0           SUB      R0,R0,R8
   \   00000334   ........           _BLF     __longToDouble,??__longToDouble??rA
   \   00000338   0020A0E1           MOV      R2,R0
   \   0000033C   0130A0E1           MOV      R3,R1
   \   00000340   0000A0E3           MOV      R0,#+0
   \   00000344   4014A0E3           MOV      R1,#+1073741824
   \   00000348   591881E3           ORR      R1,R1,#0x590000
   \   0000034C   ........           _BLF     __dMul,??__dMul??rA
   \   00000350   00A0A0E1           MOV      R10,R0
   \   00000354   01B0A0E1           MOV      R11,R1
   \   00000358   BA07D6E1           LDRH     R0,[R6, #+122]
   \   0000035C   080040E0           SUB      R0,R0,R8
   \   00000360   ........           _BLF     __longToDouble,??__longToDouble??rA
   \   00000364   0020A0E1           MOV      R2,R0
   \   00000368   0130A0E1           MOV      R3,R1
   \   0000036C   0A00A0E1           MOV      R0,R10
   \   00000370   0B10A0E1           MOV      R1,R11
   \   00000374   ........           _BLF     __dDiv,??__dDiv??rA
   \   00000378   ........           _BLF     __doubleToLong,??__doubleToLong??rA
   \   0000037C   FA0F50E3           CMP      R0,#+1000
   \   00000380   E700A0A3           MOVGE    R0,#+231
   \   00000384   C00F80A3           ORRGE    R0,R0,#0x300
   \   00000388   030000AA           BGE      ??CalcSKZ_15
   \   0000038C   E610E0E3           MVN      R1,#+230
   \   00000390   C01FC1E3           BIC      R1,R1,#0x300
   \   00000394   010050E1           CMP      R0,R1
   \   00000398   0100A0B1           MOVLT    R0,R1
   \                     ??CalcSKZ_15:
   \   0000039C   A40084E5           STR      R0,[R4, #+164]
   \   000003A0   D80FD4E1           LDRSB    R0,[R4, #+248]
   \   000003A4   000089E0           ADD      R0,R9,R0
   \   000003A8   000CA0E1           MOV      R0,R0, LSL #+24
   \   000003AC   400CA0E1           MOV      R0,R0, ASR #+24
   \   000003B0   090050E3           CMP      R0,#+9
   \   000003B4   0800A0A3           MOVGE    R0,#+8
   \   000003B8   010000AA           BGE      ??CalcSKZ_16
   \   000003BC   000050E3           CMP      R0,#+0
   \   000003C0   0000A043           MOVMI    R0,#+0
   \                     ??CalcSKZ_16:
   \   000003C4   F800C4E5           STRB     R0,[R4, #+248]
   \   000003C8   ........           _BLF     SetGain,??SetGain??rA
   \   000003CC   D8DF8DE2           ADD      SP,SP,#+864      ;; stack cleaning
   \   000003D0   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??CalcSKZ_14:
   \   000003D4   9999C93F           DC32     0x3fc99999
   \   000003D8   CDCC4C3F           DC32     0x3f4ccccd

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void SetSKZ_1()
   \                     SetSKZ_1:
   \   00000000   ........           LDR      R0,??DataTable27  ;; ValSKZ
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   4C1080E5           STR      R1,[R0, #+76]
   \   0000000C   2420A0E3           MOV      R2,#+36
   \   00000010   041080E2           ADD      R1,R0,#+4
   \   00000014   00009FE5           LDR      R0,??SetSKZ_1_0  ;; _A_RAMConfig + 12
   \   00000018   ........           _BF      memcpy,??memcpy??rA  ;; tailcall
   \                     ??SetSKZ_1_0:
   \   0000001C   ........           DC32     _A_RAMConfig + 12

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void SetSKZ_2()
   \                     SetSKZ_2:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   90D04DE2           SUB      SP,SP,#+144
   \   00000008   ........           LDR      R7,??DataTable27  ;; ValSKZ
   \   0000000C   0000A0E3           MOV      R0,#+0
   \   00000010   4C0087E5           STR      R0,[R7, #+76]
   \   00000014   ........           LDR      R10,??DataTable28  ;; _A_RAMConfig
   \   00000018   2420A0E3           MOV      R2,#+36
   \   0000001C   041087E2           ADD      R1,R7,#+4
   \   00000020   30008AE2           ADD      R0,R10,#+48
   \   00000024   ........           _BLF     memcpy,??memcpy??rA

    double TotalSKZ_1;
           ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\Frequency.c",147  Warning[Pe177]: 
          variable "TotalSKZ_1" was declared but never referenced

    double TotalSKZ_2;
           ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\Frequency.c",148  Warning[Pe177]: 
          variable "TotalSKZ_2" was declared but never referenced

    double WeightSKZ_1;
           ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\Frequency.c",151  Warning[Pe177]: 
          variable "WeightSKZ_1" was declared but never referenced

    double WeightSKZ_2;
           ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\Frequency.c",152  Warning[Pe177]: 
          variable "WeightSKZ_2" was declared but never referenced
   \   00000028   0060A0E3           MOV      R6,#+0
   \                     ??SetSKZ_2_0:
   \   0000002C   0D00A0E1           MOV      R0,SP
   \   00000030   86B180E0           ADD      R11,R0,R6, LSL #+3
   \   00000034   86808AE0           ADD      R8,R10,R6, LSL #+1
   \   00000038   0C008AE2           ADD      R0,R10,#+12
   \   0000003C   860080E0           ADD      R0,R0,R6, LSL #+1
   \   00000040   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000044   000050E3           CMP      R0,#+0
   \   00000048   B003D8E1           LDRH     R0,[R8, #+48]
   \   0000004C   0400001A           BNE      ??SetSKZ_2_1
   \   00000050   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000054   0040A0E1           MOV      R4,R0
   \   00000058   0150A0E1           MOV      R5,R1
   \   0000005C   980097E5           LDR      R0,[R7, #+152]
   \   00000060   030000EA           B        ??SetSKZ_2_2
   \                     ??SetSKZ_2_1:
   \   00000064   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000068   0040A0E1           MOV      R4,R0
   \   0000006C   0150A0E1           MOV      R5,R1
   \   00000070   BC00D8E1           LDRH     R0,[R8, #+12]
   \                     ??SetSKZ_2_2:
   \   00000074   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000078   0020A0E1           MOV      R2,R0
   \   0000007C   0130A0E1           MOV      R3,R1
   \   00000080   0400A0E1           MOV      R0,R4
   \   00000084   0510A0E1           MOV      R1,R5
   \   00000088   ........           _BLF     __dDiv,??__dDiv??rA
   \   0000008C   0020A0E3           MOV      R2,#+0
   \   00000090   4034A0E3           MOV      R3,#+1073741824
   \   00000094   593883E3           ORR      R3,R3,#0x590000
   \   00000098   ........           _BLF     __dMul,??__dMul??rA
   \   0000009C   03008BE8           STM      R11,{R0,R1}
   \   000000A0   016086E2           ADD      R6,R6,#+1
   \   000000A4   120056E3           CMP      R6,#+18
   \   000000A8   DFFFFF3A           BCC      ??SetSKZ_2_0
   \   000000AC   ........           B        ?Subroutine1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine1:
   \   00000000   00B0A0E3           MOV      R11,#+0
   \                     ??Subroutine1_0:
   \   00000004   0070A0E3           MOV      R7,#+0
   \   00000008   0D00A0E1           MOV      R0,SP
   \   0000000C   300090E8           LDM      R0,{R4,R5}
   \   00000010   0060A0E3           MOV      R6,#+0
   \                     ??Subroutine1_1:
   \   00000014   0D00A0E1           MOV      R0,SP
   \   00000018   860180E0           ADD      R0,R0,R6, LSL #+3
   \   0000001C   000390E8           LDM      R0,{R8,R9}
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   0510A0E1           MOV      R1,R5
   \   00000028   0820A0E1           MOV      R2,R8
   \   0000002C   0930A0E1           MOV      R3,R9
   \   00000030   ........           _BLF     __dLess,??__dLess??rA
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   0670A011           MOVNE    R7,R6
   \   0000003C   0840A011           MOVNE    R4,R8
   \   00000040   0950A011           MOVNE    R5,R9
   \   00000044   016086E2           ADD      R6,R6,#+1
   \   00000048   120056E3           CMP      R6,#+18
   \   0000004C   F0FFFF3A           BCC      ??Subroutine1_1
   \   00000050   54008AE2           ADD      R0,R10,#+84
   \   00000054   876080E0           ADD      R6,R0,R7, LSL #+1
   \   00000058   0400A0E1           MOV      R0,R4
   \   0000005C   0510A0E1           MOV      R1,R5
   \   00000060   ........           _BLF     __doubleToLong,??__doubleToLong??rA
   \   00000064   B000C6E1           STRH     R0,[R6, #+0]
   \   00000068   7C008AE2           ADD      R0,R10,#+124
   \   0000006C   0070CBE7           STRB     R7,[R11, +R0]
   \   00000070   0D00A0E1           MOV      R0,SP
   \   00000074   870180E0           ADD      R0,R0,R7, LSL #+3
   \   00000078   E824A0E3           MOV      R2,#-402653184
   \   0000007C   ........           LDR      R3,??DataTable14  ;; 0xc2374876
   \   00000080   0C0080E8           STM      R0,{R2,R3}
   \   00000084   01B08BE2           ADD      R11,R11,#+1
   \   00000088   12005BE3           CMP      R11,#+18
   \   0000008C   DCFFFF3A           BCC      ??Subroutine1_0
   \   00000090   0C008AE2           ADD      R0,R10,#+12
   \   00000094   ........           BL       CalcValSKZ
   \   00000098   B807CAE1           STRH     R0,[R10, #+120]
   \   0000009C   30008AE2           ADD      R0,R10,#+48
   \   000000A0   ........           BL       CalcValSKZ
   \   000000A4   BA07CAE1           STRH     R0,[R10, #+122]
   \   000000A8   ........           _BLF     WriteConfig,??WriteConfig??rA
   \   000000AC   90D08DE2           ADD      SP,SP,#+144      ;; stack cleaning
   \   000000B0   F08FBDE8           POP      {R4-R11,PC}      ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void SetSKZ_2_()
   \                     SetSKZ_2_:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   90D04DE2           SUB      SP,SP,#+144
   \   00000008   ........           LDR      R7,??DataTable27  ;; ValSKZ
   \   0000000C   0000A0E3           MOV      R0,#+0
   \   00000010   4C0087E5           STR      R0,[R7, #+76]

    double TotalSKZ_1;
           ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\Frequency.c",205  Warning[Pe177]: 
          variable "TotalSKZ_1" was declared but never referenced

    double TotalSKZ_2;
           ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\Frequency.c",206  Warning[Pe177]: 
          variable "TotalSKZ_2" was declared but never referenced

    double WeightSKZ_1;
           ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\Frequency.c",209  Warning[Pe177]: 
          variable "WeightSKZ_1" was declared but never referenced

    double WeightSKZ_2;
           ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\Frequency.c",210  Warning[Pe177]: 
          variable "WeightSKZ_2" was declared but never referenced
   \   00000014   0060A0E3           MOV      R6,#+0
   \   00000018   ........           LDR      R10,??DataTable28  ;; _A_RAMConfig
   \                     ??SetSKZ_2__0:
   \   0000001C   0D00A0E1           MOV      R0,SP
   \   00000020   86B180E0           ADD      R11,R0,R6, LSL #+3
   \   00000024   86808AE0           ADD      R8,R10,R6, LSL #+1
   \   00000028   0C008AE2           ADD      R0,R10,#+12
   \   0000002C   860080E0           ADD      R0,R0,R6, LSL #+1
   \   00000030   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   B003D8E1           LDRH     R0,[R8, #+48]
   \   0000003C   0400001A           BNE      ??SetSKZ_2__1
   \   00000040   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000044   0040A0E1           MOV      R4,R0
   \   00000048   0150A0E1           MOV      R5,R1
   \   0000004C   980097E5           LDR      R0,[R7, #+152]
   \   00000050   030000EA           B        ??SetSKZ_2__2
   \                     ??SetSKZ_2__1:
   \   00000054   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000058   0040A0E1           MOV      R4,R0
   \   0000005C   0150A0E1           MOV      R5,R1
   \   00000060   BC00D8E1           LDRH     R0,[R8, #+12]
   \                     ??SetSKZ_2__2:
   \   00000064   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000068   0020A0E1           MOV      R2,R0
   \   0000006C   0130A0E1           MOV      R3,R1
   \   00000070   0400A0E1           MOV      R0,R4
   \   00000074   0510A0E1           MOV      R1,R5
   \   00000078   ........           _BLF     __dDiv,??__dDiv??rA
   \   0000007C   0020A0E3           MOV      R2,#+0
   \   00000080   4034A0E3           MOV      R3,#+1073741824
   \   00000084   593883E3           ORR      R3,R3,#0x590000
   \   00000088   ........           _BLF     __dMul,??__dMul??rA
   \   0000008C   03008BE8           STM      R11,{R0,R1}
   \   00000090   016086E2           ADD      R6,R6,#+1
   \   00000094   120056E3           CMP      R6,#+18
   \   00000098   DFFFFF3A           BCC      ??SetSKZ_2__0
   \   0000009C                      REQUIRE ?Subroutine1
   \   0000009C                      ;; // Fall through to label ?Subroutine1

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void myprintfSKZSpectr()
   \                     myprintfSKZSpectr:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   \   00000004   804FA0E3           MOV      R4,#+512
   \   00000008   ........           LDR      R5,??DataTable16  ;; _A_RAMConfig
   \   0000000C   A0609FE5           LDR      R6,??myprintfSKZSpectr_0+0x8  ;; `?<Constant "_____________________...">`
   \   00000010   0610A0E1           MOV      R1,R6
   \   00000014   050084E0           ADD      R0,R4,R5
   \   00000018   ........           _BLF     sprintf,??sprintf??rA
   \   0000001C   ........           BL       DBGU_SendBuf
   \   00000020   0070A0E3           MOV      R7,#+0
   \   00000024   0180A0E3           MOV      R8,#+1
   \                     ??myprintfSKZSpectr_1:
   \   00000028   0190A0E3           MOV      R9,#+1
   \   0000002C   0720A0E1           MOV      R2,R7
   \   00000030   281086E2           ADD      R1,R6,#+40
   \   00000034   050084E0           ADD      R0,R4,R5
   \   00000038   ........           _BLF     sprintf,??sprintf??rA
   \   0000003C   ........           BL       DBGU_SendBuf
   \   00000040   00A0A0E3           MOV      R10,#+0
   \                     ??myprintfSKZSpectr_2:
   \   00000044   ........           LDR      R0,??DataTable27  ;; ValSKZ
   \   00000048   8A0080E0           ADD      R0,R0,R10, LSL #+1
   \   0000004C   B400D0E1           LDRH     R0,[R0, #+4]
   \   00000050   180750E1           CMP      R0,R8, LSL R7
   \   00000054   050000BA           BLT      ??myprintfSKZSpectr_3
   \   00000058   131F8FE2           ADR      R1,??myprintfSKZSpectr_0  ;; "*"
   \   0000005C   050084E0           ADD      R0,R4,R5
   \   00000060   ........           _BLF     sprintf,??sprintf??rA
   \   00000064   ........           BL       DBGU_SendBuf
   \   00000068   0090A0E3           MOV      R9,#+0
   \   0000006C   030000EA           B        ??myprintfSKZSpectr_4
   \                     ??myprintfSKZSpectr_3:
   \   00000070   0E1F8FE2           ADR      R1,??myprintfSKZSpectr_0+0x4  ;; " "
   \   00000074   050084E0           ADD      R0,R4,R5
   \   00000078   ........           _BLF     sprintf,??sprintf??rA
   \   0000007C   ........           BL       DBGU_SendBuf
   \                     ??myprintfSKZSpectr_4:
   \   00000080   01A08AE2           ADD      R10,R10,#+1
   \   00000084   12005AE3           CMP      R10,#+18
   \   00000088   EDFFFF3A           BCC      ??myprintfSKZSpectr_2
   \   0000008C   017087E2           ADD      R7,R7,#+1
   \   00000090   ........           ADR      R1,??DataTable15  ;; "\n\r"
   \   00000094   050084E0           ADD      R0,R4,R5
   \   00000098   ........           _BLF     sprintf,??sprintf??rA
   \   0000009C   ........           BL       DBGU_SendBuf
   \   000000A0   000059E3           CMP      R9,#+0
   \   000000A4   DFFFFF0A           BEQ      ??myprintfSKZSpectr_1
   \   000000A8   F087BDE8           POP      {R4-R10,PC}      ;; return
   \                     ??myprintfSKZSpectr_0:
   \   000000AC   2A000000           DC8      "*",+0,+0
   \   000000B0   20000000           DC8      " ",+0,+0
   \   000000B4   ........           DC32     `?<Constant "_____________________...">`

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void myprintfSKZ()
   \                     myprintfSKZ:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \                     ??myprintfSKZ_0:
   \   00000008   ........           LDR      R0,??DataTable27  ;; ValSKZ
   \   0000000C   840080E0           ADD      R0,R0,R4, LSL #+1
   \   00000010   B430D0E1           LDRH     R3,[R0, #+4]
   \   00000014   0420A0E1           MOV      R2,R4
   \   00000018   18109FE5           LDR      R1,??myprintfSKZ_1  ;; `?<Constant "SKZ[%2d] = %d\\n\\r">`
   \   0000001C   ........           LDR      R0,??DataTable19  ;; _A_RAMConfig + 512
   \   00000020   ........           _BLF     sprintf,??sprintf??rA
   \   00000024   ........           BL       DBGU_SendBuf
   \   00000028   014084E2           ADD      R4,R4,#+1
   \   0000002C   120054E3           CMP      R4,#+18
   \   00000030   F4FFFFBA           BLT      ??myprintfSKZ_0
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??myprintfSKZ_1:
   \   00000038   ........           DC32     `?<Constant "SKZ[%2d] = %d\\n\\r">`

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void myprintfSKZ_1()
   \                     myprintfSKZ_1:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   ........           LDR      R5,??DataTable28  ;; _A_RAMConfig
   \                     ??myprintfSKZ_1_0:
   \   0000000C   0C0085E2           ADD      R0,R5,#+12
   \   00000010   840080E0           ADD      R0,R0,R4, LSL #+1
   \   00000014   B030D0E1           LDRH     R3,[R0, #+0]
   \   00000018   0420A0E1           MOV      R2,R4
   \   0000001C   18109FE5           LDR      R1,??myprintfSKZ_1_1  ;; `?<Constant "SKZ1[%2d] = %d\\n\\r">`
   \   00000020   800F85E2           ADD      R0,R5,#+512
   \   00000024   ........           _BLF     sprintf,??sprintf??rA
   \   00000028   ........           BL       DBGU_SendBuf
   \   0000002C   014084E2           ADD      R4,R4,#+1
   \   00000030   120054E3           CMP      R4,#+18
   \   00000034   F4FFFFBA           BLT      ??myprintfSKZ_1_0
   \   00000038   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??myprintfSKZ_1_1:
   \   0000003C   ........           DC32     `?<Constant "SKZ1[%2d] = %d\\n\\r">`

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void myprintfSKZ_2()
   \                     myprintfSKZ_2:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   ........           LDR      R5,??DataTable28  ;; _A_RAMConfig
   \                     ??myprintfSKZ_2_0:
   \   0000000C   300085E2           ADD      R0,R5,#+48
   \   00000010   840080E0           ADD      R0,R0,R4, LSL #+1
   \   00000014   B030D0E1           LDRH     R3,[R0, #+0]
   \   00000018   0420A0E1           MOV      R2,R4
   \   0000001C   18109FE5           LDR      R1,??myprintfSKZ_2_1  ;; `?<Constant "SKZ2[%2d] = %d\\n\\r">`
   \   00000020   800F85E2           ADD      R0,R5,#+512
   \   00000024   ........           _BLF     sprintf,??sprintf??rA
   \   00000028   ........           BL       DBGU_SendBuf
   \   0000002C   014084E2           ADD      R4,R4,#+1
   \   00000030   120054E3           CMP      R4,#+18
   \   00000034   F4FFFFBA           BLT      ??myprintfSKZ_2_0
   \   00000038   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??myprintfSKZ_2_1:
   \   0000003C   ........           DC32     `?<Constant "SKZ2[%2d] = %d\\n\\r">`

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __arm __atpcs void myprintfFreqOrder()
   \                     myprintfFreqOrder:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E3           MOV      R4,#+0
   \   00000008   ........           LDR      R5,??DataTable28  ;; _A_RAMConfig
   \                     ??myprintfFreqOrder_0:
   \   0000000C   540085E2           ADD      R0,R5,#+84
   \   00000010   840080E0           ADD      R0,R0,R4, LSL #+1
   \   00000014   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000018   01002DE9           PUSH     {R0}
   \   0000001C   7C0085E2           ADD      R0,R5,#+124
   \   00000020   0030D4E7           LDRB     R3,[R4, +R0]
   \   00000024   0420A0E1           MOV      R2,R4
   \   00000028   1C109FE5           LDR      R1,??myprintfFreqOrder_1  ;; `?<Constant "FreqOrder[%2d] = %d  ...">`
   \   0000002C   800F85E2           ADD      R0,R5,#+512
   \   00000030   ........           _BLF     sprintf,??sprintf??rA
   \   00000034   ........           BL       DBGU_SendBuf
   \   00000038   014084E2           ADD      R4,R4,#+1
   \   0000003C   120054E3           CMP      R4,#+18
   \   00000040   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   \   00000044   F0FFFFBA           BLT      ??myprintfFreqOrder_0
   \   00000048   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??myprintfFreqOrder_1:
   \   0000004C   ........           DC32     `?<Constant "FreqOrder[%2d] = %d  ...">`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     ValSKZ:
   \   00000000                      DS8 2
   \   00000002                      REQUIRE `?<Initializer for ValSKZ>`
   \   00000002                      DS8 2
   \                     SKZ:
   \   00000004                      DS8 36
   \   00000028                      REQUIRE `?<Initializer for SKZ>`
   \   signed short const *__data Cos
   \                     Cos:
   \   00000028                      DS8 4
   \   0000002C                      REQUIRE `?<Initializer for Cos>`
   \   signed short const *__data Sin
   \                     Sin:
   \   0000002C                      DS8 4
   \   00000030                      REQUIRE `?<Initializer for Sin>`
   \                     pPMC:
   \   00000030                      DS8 4
   \   00000034                      REQUIRE `?<Initializer for pPMC>`
   \                     pPIO:
   \   00000034                      DS8 4
   \   00000038                      REQUIRE `?<Initializer for pPIO>`
   \                     pTC0:
   \   00000038                      DS8 4
   \   0000003C                      REQUIRE `?<Initializer for pTC0>`
   \                     pDBGU:
   \   0000003C                      DS8 4
   \   00000040                      REQUIRE `?<Initializer for pDBGU>`
   \                     pADC:
   \   00000040                      DS8 4
   \   00000044                      REQUIRE `?<Initializer for pADC>`
   \                     pSPI:
   \   00000044                      DS8 4
   \   00000048                      REQUIRE `?<Initializer for pSPI>`
   \                     pUS0:
   \   00000048                      DS8 4
   \   0000004C                      REQUIRE `?<Initializer for pUS0>`
   \                     first_pass:
   \   0000004C                      DS8 4
   \   00000050                      REQUIRE `?<Initializer for first_pass>`
   \                     f_SKZ:
   \   00000050                      DS8 72
   \   00000098                      REQUIRE `?<Initializer for f_SKZ>`
   \                     MinSKZ_val:
   \   00000098                      DS8 4
   \   0000009C                      REQUIRE `?<Initializer for MinSKZ_val>`
   \                     Object_on_level:
   \   0000009C                      DS8 4
   \   000000A0                      REQUIRE `?<Initializer for Object_on_level>`
   \                     Object_on:
   \   000000A0                      DS8 4
   \   000000A4                      REQUIRE `?<Initializer for Object_on>`
   \                     RelValSKZ:
   \   000000A4                      DS8 4
   \   000000A8                      REQUIRE `?<Initializer for RelValSKZ>`
   \                     UARTRateTable:
   \   000000A8                      DS8 40
   \   000000D0                      REQUIRE `?<Initializer for UARTRateTable>`
   \                     UARTTimeoutTable:
   \   000000D0                      DS8 40
   \   000000F8                      REQUIRE `?<Initializer for UARTTimeoutTable>`
   \                     Gain:
   \   000000F8                      DS8 1
   \   000000F9                      REQUIRE `?<Initializer for Gain>`
   \                     RelValSKZ1toSKZ2:
   \   000000F9                      DS8 1
   \   000000FA                      REQUIRE `?<Initializer for RelValSKZ1toSKZ2>`
    143          
    144          unsigned char ViewModbus = 0;
   \                     ViewModbus:
   \   000000FA                      DS8 1
   \   000000FB                      REQUIRE `?<Initializer for ViewModbus>`
   \   000000FB                      DS8 1
   \                     GainTable:
   \   000000FC                      DS8 12
   \   00000108                      REQUIRE `?<Initializer for GainTable>`
    145          #define modbus_printf(...) if (ViewModbus) DBGU_SendBuf(sprintf(&DBGU_Buf[0],__VA_ARGS__));
    146          
    147          //*******************************************************************
    148          //* crc for Buf

   \                                 In segment CODE, align 4, keep-with-next
    149          unsigned short ModbusCRC (unsigned char *Buf, unsigned int Count)
    150          {
   \                     ModbusCRC:
   \   00000000   10402DE9           PUSH     {R4,LR}
    151            unsigned short s,j,t,i;
    152            s = 0xFFFF;
   \   00000004   FF20A0E3           MOV      R2,#+255
   \   00000008   FF2C82E3           ORR      R2,R2,#0xFF00
    153            for(i=0; i<Count; i++)
   \   0000000C   0030A0E3           MOV      R3,#+0
   \   00000010   040000EA           B        ??ModbusCRC_0
    154            {
    155              t = Buf[i];
    156              s = t^s;
    157              for(j=0; j<8; j++)
   \                     ??ModbusCRC_1:
   \   00000014   014054E2           SUBS     R4,R4,#+1
   \   00000018   0900001A           BNE      ??ModbusCRC_2
   \   0000001C   013083E2           ADD      R3,R3,#+1
   \   00000020   0338A0E1           MOV      R3,R3, LSL #+16
   \   00000024   2338A0E1           MOV      R3,R3, LSR #+16
   \                     ??ModbusCRC_0:
   \   00000028   010053E1           CMP      R3,R1
   \   0000002C   0C00002A           BCS      ??ModbusCRC_3
   \   00000030   0040D3E7           LDRB     R4,[R3, +R0]
   \   00000034   042022E0           EOR      R2,R2,R4
   \   00000038   0228A0E1           MOV      R2,R2, LSL #+16
   \   0000003C   2228A0E1           MOV      R2,R2, LSR #+16
   \   00000040   0840A0E3           MOV      R4,#+8
    158              {  
    159                if(s & 0x0001 == 1)  {s >>= 1;  s ^= 0xA001;}
   \                     ??ModbusCRC_2:
   \   00000044   02C8A0E1           LSL      R12,R2,#+16
   \   00000048   ACC8A0E1           LSR      R12,R12,#+17
   \   0000004C   010012E3           TST      R2,#0x1
   \   00000050   0C20A001           MOVEQ    R2,R12
   \   00000054   0120A013           MOVNE    R2,#+1
   \   00000058   A02C8213           ORRNE    R2,R2,#0xA000
   \   0000005C   0C202210           EORNE    R2,R2,R12
   \   00000060   EBFFFFEA           B        ??ModbusCRC_1
    160                else { s >>= 1;} 
    161              } 
    162            }
    163            return s;
   \                     ??ModbusCRC_3:
   \   00000064   0208A0E1           MOV      R0,R2, LSL #+16
   \   00000068   2008A0E1           MOV      R0,R0, LSR #+16
   \   0000006C   1080BDE8           POP      {R4,PC}          ;; return
    164          }
    165          
    166          //*******************************************************************
    167          //* reads  logical modbus registers as physical variables 

   \                                 In segment CODE, align 4, keep-with-next
    168          unsigned short ReadInputReg (unsigned short Addr)
    169          {
    170            if ((Addr>=0x00) & (Addr<=0x12)) return (SKZ[Addr]);// SKZ values
                            ^
Warning[Pe186]: pointless comparison of unsigned integer with zero

    Flash = (unsigned int *)&FlashConfig[0];
    ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\main.c",93  Warning[Ta022]: Possible rom
          access (DefaultConfig) from within a __ramfunc function

    myprintf ("Config write OK!\n\r");
    ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\main.c",107  Warning[Ta023]: Call to a
          non __ramfunc function (sprintf) from within a __ramfunc function

    myprintf ("Config write OK!\n\r");
    ^
"L:\work\σκημ\σκημ\σκημ\Compil_iar440\main.c",107  Warning[Ta023]: Call to a
          non __ramfunc function (DBGU_SendBuf) from within a __ramfunc
          function
   \                     ReadInputReg:
   \   00000000   ........           LDR      R2,??DataTable23  ;; ValSKZ
   \   00000004   130050E3           CMP      R0,#+19
   \   00000008   80008230           ADDCC    R0,R2,R0, LSL #+1
   \   0000000C   B400D031           LDRHCC   R0,[R0, #+4]
   \   00000010   0EF0A031           MOVCC    PC,LR
    171            if ((Addr>=0x20) & (Addr<=0x32)) return (Config.SKZ_1[Addr-0x20]);// SKZ1 values
   \   00000014   ........           LDR      R3,??DataTable28  ;; _A_RAMConfig
   \   00000018   80C083E0           ADD      R12,R3,R0, LSL #+1
   \   0000001C   50C04CE2           SUB      R12,R12,#+80
   \   00000020   200050E3           CMP      R0,#+32
   \   00000024   0200003A           BCC      ??ReadInputReg_0
   \   00000028   330050E3           CMP      R0,#+51
   \   0000002C   BC01DC31           LDRHCC   R0,[R12, #+28]
   \   00000030   0EF0A031           MOVCC    PC,LR
    172            if ((Addr>=0x40) & (Addr<=0x52)) return (Config.SKZ_2[Addr-0x40]);// SKZ2 values
   \                     ??ReadInputReg_0:
   \   00000034   400050E3           CMP      R0,#+64
   \   00000038   0200003A           BCC      ??ReadInputReg_1
   \   0000003C   530050E3           CMP      R0,#+83
   \   00000040   B000DC31           LDRHCC   R0,[R12, #+0]
   \   00000044   0EF0A031           MOVCC    PC,LR
    173            if ((Addr>=0x60) & (Addr<=0x72)) return (Config.FreqOrder[Addr-0x60]);//order
   \                     ??ReadInputReg_1:
   \   00000048   600050E3           CMP      R0,#+96
   \   0000004C   0300003A           BCC      ??ReadInputReg_2
   \   00000050   730050E3           CMP      R0,#+115
   \   00000054   03008030           ADDCC    R0,R0,R3
   \   00000058   1C00D035           LDRBCC   R0,[R0, #+28]
   \   0000005C   0EF0A031           MOVCC    PC,LR
    174            
    175            if (Addr==0x80) return Config.ValFreqCount;
   \                     ??ReadInputReg_2:
   \   00000060   800050E3           CMP      R0,#+128
   \   00000064   08009305           LDREQ    R0,[R3, #+8]
   \   00000068   0B00000A           BEQ      ??ReadInputReg_3
    176            if (Addr==0x83) return Config.ValSKZ_1;
   \   0000006C   830050E3           CMP      R0,#+131
   \   00000070   B807D301           LDRHEQ   R0,[R3, #+120]
   \   00000074   0EF0A001           MOVEQ    PC,LR
    177            if (Addr==0x84) return Config.ValSKZ_2;
   \   00000078   840050E3           CMP      R0,#+132
   \   0000007C   BA07D301           LDRHEQ   R0,[R3, #+122]
   \   00000080   0EF0A001           MOVEQ    PC,LR
    178            if (Addr==0x85) return ValSKZ;
   \   00000084   850050E3           CMP      R0,#+133
   \   00000088   B000D201           LDRHEQ   R0,[R2, #+0]
   \   0000008C   0EF0A001           MOVEQ    PC,LR
    179            if (Addr==0x86) return RelValSKZ;
   \   00000090   860050E3           CMP      R0,#+134
   \   00000094   0300001A           BNE      ??ReadInputReg_4
   \   00000098   A40092E5           LDR      R0,[R2, #+164]
   \                     ??ReadInputReg_3:
   \   0000009C   0008A0E1           MOV      R0,R0, LSL #+16
   \   000000A0   2008A0E1           MOV      R0,R0, LSR #+16
   \   000000A4   0EF0A0E1           MOV      PC,LR
    180            if (Addr==0x87) return RelValSKZ1toSKZ2;
   \                     ??ReadInputReg_4:
   \   000000A8   870050E3           CMP      R0,#+135
   \   000000AC   F900D205           LDRBEQ   R0,[R2, #+249]
   \   000000B0   0EF0A001           MOVEQ    PC,LR
    181            if (Addr==0x88) return Object_on;
   \   000000B4   880050E3           CMP      R0,#+136
   \   000000B8   A0009205           LDREQ    R0,[R2, #+160]
   \   000000BC   F6FFFF0A           BEQ      ??ReadInputReg_3
    182            return 0; 
   \   000000C0   0000A0E3           MOV      R0,#+0
   \   000000C4   0EF0A0E1           MOV      PC,LR            ;; return
    183          }
    184          
    185          //*******************************************************************
    186          //* func code 0x0C - τσνκφθ, κξςξπσώ μϋ θροξλόησεμ δλ ρξυπΰνενθ ξαξθυ μΰρρθβξβ SKZ β οΰμςθ εεοπξμ ΑΚΘ  

   \                                 In segment CODE, align 4, keep-with-next
    187          inline void Read_SKZ_func (unsigned char *Frame, unsigned char FrameCount)
    188          { 
   \                     Read_SKZ_func:
   \   00000000   00402DE9           PUSH     {LR}
    189          Config.ValSKZ_1=((unsigned int)Frame[2]<<8)+Frame[3];
   \   00000004   30109FE5           LDR      R1,??Read_SKZ_func_0  ;; _A_RAMConfig
   \   00000008   0220D0E5           LDRB     R2,[R0, #+2]
   \   0000000C   0330D0E5           LDRB     R3,[R0, #+3]
   \   00000010   022483E0           ADD      R2,R3,R2, LSL #+8
   \   00000014   B827C1E1           STRH     R2,[R1, #+120]
    190          Config.ValSKZ_2=((unsigned int)Frame[4]<<8)+Frame[5];
   \   00000018   0420D0E5           LDRB     R2,[R0, #+4]
   \   0000001C   0500D0E5           LDRB     R0,[R0, #+5]
   \   00000020   020480E0           ADD      R0,R0,R2, LSL #+8
   \   00000024   BA07C1E1           STRH     R0,[R1, #+122]
    191          CalcSKZ(); 
   \   00000028   ........           BL       CalcSKZ
    192          first_pass=0; 
   \   0000002C   0C009FE5           LDR      R0,??Read_SKZ_func_0+0x4  ;; ValSKZ + 76
   \   00000030   0010A0E3           MOV      R1,#+0
   \   00000034   001080E5           STR      R1,[R0, #+0]
    193            return;
   \   00000038   0080BDE8           POP      {PC}             ;; return
   \                     ??Read_SKZ_func_0:
   \   0000003C   ........           DC32     _A_RAMConfig
   \   00000040   ........           DC32     ValSKZ + 76
    194          }
    195          
    196          inline void Read_freq_count (unsigned char *Frame, unsigned char FrameCount)
    197          {
    198          Config.ValFreqCount=Frame[2];
    199          return; 
    200          }
    201          
    202          inline void Read_object_on_level (unsigned char *Frame, unsigned char FrameCount)
    203          {
    204          //Object_on_level=(int);  
    205          Object_on_level=0;  
    206          Object_on_level=(int)(Frame[2]<<8)|Frame[3];
    207          Object_on_level = Object_on_level/sqrt(Config.ValFreqCount);
    208          return; 
    209          }
    210          
    211          inline void Read_MINSKZ_value (unsigned char *Frame, unsigned char FrameCount)
    212          {
    213          MinSKZ_val=Frame[2]<<8;  
    214          MinSKZ_val=MinSKZ_val+Frame[3];
    215          
    216          return; 
    217          }
    218          //* func code 0xCC - τσνκφθ, κξςξπσώ μϋ θροξλόησεμ δλ ρξυπΰνενθ ξαξθυ μΰρρθβξβ SKZ β οΰμςθ εεοπξμ ΑΚΘ 
    219          /*inline void Write_SKZ_arrays_func (unsigned char *Frame,unsigned char FrameCount, 
    220                                            unsigned char *Answ,unsigned char *AnswCount )
    221          { unsigned int m=0;
    222            Answ[0] = Frame[0]; //address
    223            Answ[1] = Frame[1]; //func code
    224            for (m=0;m<19;m++)
    225            {Answ[2+m*2] = Config.SKZ_1[m]>>8;
    226             Answ[3+m*2] = Config.SKZ_1[m];}
    227            for (m=0;m<19;m++)
    228            {Answ[40+m*2] = Config.SKZ_2[m]>>8;
    229            Answ[41+m*2] = Config.SKZ_2[m];}
    230            unsigned short crc = ModbusCRC(Answ, 78);
    231            Answ[78] = Low(crc);
    232            Answ[79] = Hi(crc);
    233            *AnswCount = 80;
    234            return;}*/
    235          //* func code 0xCD - τσνκφθ, κξςξπσώ μϋ θροξλόησεμ δλ χςενθ ξαξθυ μΰρρθβξβ SKZ θη οΰμςθ εεοπξμ ΑΚΘ

   \                                 In segment CODE, align 4, keep-with-next
    236          inline void SKZ_arrays_read (unsigned char *Frame,unsigned char FrameCount 
    237                                            )
    238          { unsigned int m=0;
   \                     SKZ_arrays_read:
   \   00000000   13402DE9           PUSH     {R0,R1,R4,LR}
    239          
    240            for (m=0;m<19;m++)
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   B4409FE5           LDR      R4,??SKZ_arrays_read_0  ;; _A_RAMConfig
    241            {Config.SKZ_1[m] = ((unsigned int)Frame[2+m*2]<<8)+Frame[3+m*2];//ρξυπΰνεμ 1ι μΰρρθβ
   \                     ??SKZ_arrays_read_1:
   \   0000000C   8120A0E1           LSL      R2,R1,#+1
   \   00000010   0C3084E2           ADD      R3,R4,#+12
   \   00000014   813083E0           ADD      R3,R3,R1, LSL #+1
   \   00000018   02C080E2           ADD      R12,R0,#+2
   \   0000001C   0CC0D2E7           LDRB     R12,[R2, +R12]
   \   00000020   03E080E2           ADD      LR,R0,#+3
   \   00000024   0E20D2E7           LDRB     R2,[R2, +LR]
   \   00000028   0C2482E0           ADD      R2,R2,R12, LSL #+8
   \   0000002C   B020C3E1           STRH     R2,[R3, #+0]
    242           }
   \   00000030   011081E2           ADD      R1,R1,#+1
   \   00000034   130051E3           CMP      R1,#+19
   \   00000038   F3FFFF3A           BCC      ??SKZ_arrays_read_1
    243          // SetSKZ_1();
    244            for (m=0;m<19;m++)
   \   0000003C   0010A0E3           MOV      R1,#+0
    245            {Config.SKZ_2[m] = ((unsigned int)Frame[40+m*2]<<8)+Frame[41+m*2];//ρξυπΰνεμ 2ι μΰρρθβ
   \                     ??SKZ_arrays_read_2:
   \   00000040   8120A0E1           LSL      R2,R1,#+1
   \   00000044   303084E2           ADD      R3,R4,#+48
   \   00000048   813083E0           ADD      R3,R3,R1, LSL #+1
   \   0000004C   28C080E2           ADD      R12,R0,#+40
   \   00000050   0CC0D2E7           LDRB     R12,[R2, +R12]
   \   00000054   29E080E2           ADD      LR,R0,#+41
   \   00000058   0E20D2E7           LDRB     R2,[R2, +LR]
   \   0000005C   0C2482E0           ADD      R2,R2,R12, LSL #+8
   \   00000060   B020C3E1           STRH     R2,[R3, #+0]
    246           }
   \   00000064   011081E2           ADD      R1,R1,#+1
   \   00000068   130051E3           CMP      R1,#+19
   \   0000006C   F3FFFF3A           BCC      ??SKZ_arrays_read_2
    247          
    248          
    249           
    250          SetSKZ_2_ ();
   \   00000070   ........           BL       SetSKZ_2_
    251          if((Config.ValSKZ_1==0xfffe)&&(Config.ValSKZ_2==0xfffe)){
   \   00000074   FE00A0E3           MOV      R0,#+254
   \   00000078   FF0C80E3           ORR      R0,R0,#0xFF00
   \   0000007C   B817D4E1           LDRH     R1,[R4, #+120]
   \   00000080   000051E1           CMP      R1,R0
   \   00000084   BA17D401           LDRHEQ   R1,[R4, #+122]
   \   00000088   00005101           CMPEQ    R1,R0
   \   0000008C   0A00001A           BNE      ??SKZ_arrays_read_3
    252          for (m=0;m<19;m++){  Config.SKZ_1[m]=0;Config.SKZ_2[m]=0;}}
   \   00000090   0010A0E3           MOV      R1,#+0
   \   00000094   0000A0E3           MOV      R0,#+0
   \                     ??SKZ_arrays_read_4:
   \   00000098   0C2084E2           ADD      R2,R4,#+12
   \   0000009C   812082E0           ADD      R2,R2,R1, LSL #+1
   \   000000A0   B000C2E1           STRH     R0,[R2, #+0]
   \   000000A4   302084E2           ADD      R2,R4,#+48
   \   000000A8   812082E0           ADD      R2,R2,R1, LSL #+1
   \   000000AC   B000C2E1           STRH     R0,[R2, #+0]
   \   000000B0   011081E2           ADD      R1,R1,#+1
   \   000000B4   130051E3           CMP      R1,#+19
   \   000000B8   F6FFFF3A           BCC      ??SKZ_arrays_read_4
    253          SetSKZ_2_ ();  
   \                     ??SKZ_arrays_read_3:
   \   000000BC   ........           BL       SetSKZ_2_
    254            return;}
   \   000000C0   1380BDE8           POP      {R0,R1,R4,PC}    ;; return
   \                     ??SKZ_arrays_read_0:
   \   000000C4   ........           DC32     _A_RAMConfig
    255          
    256          inline void Freq_Order_Read (unsigned char *Frame,unsigned char FrameCount 
    257                                            )
    258          { unsigned int m=0;
    259          
    260            for (m=0;m<19;m++)
    261            {Config.FreqOrder[m] = Frame[2];//ρξυπΰνεμ 1ι μΰρρθβ
    262           }
    263          // SetSKZ_1();
    264          
    265           return;}
    266          

   \                                 In segment CODE, align 4, keep-with-next
    267          inline void ParseRead_InputReg (unsigned char *Frame, unsigned char FrameCount,
    268                                            unsigned char *Answ, unsigned char *AnswCount)
    269          {
   \                     ParseRead_InputReg:
   \   00000000   F9472DE9           PUSH     {R0,R3-R10,LR}
   \   00000004   0250A0E1           MOV      R5,R2
   \   00000008   2C219FE5           LDR      R2,??ParseRead_InputReg_0  ;; ValSKZ + 250
   \   0000000C   0020D2E5           LDRB     R2,[R2, #+0]
   \   00000010   28619FE5           LDR      R6,??ParseRead_InputReg_0+0x4  ;; `?<Constant "Wrong 04func frame le...">`
   \   00000014   080051E3           CMP      R1,#+8
   \   00000018   0400000A           BEQ      ??ParseRead_InputReg_1
    270            if (FrameCount != 8) // addr + funccode + 2regaddr + 2regcount + 2crc
    271              { modbus_printf("Wrong 04func frame length %d\n\r", FrameCount); return;}
   \   0000001C   000052E3           CMP      R2,#+0
   \   00000020   F387BD08           POPEQ    {R0,R1,R4-R10,PC}
   \   00000024   0120A0E1           MOV      R2,R1
   \   00000028   0610A0E1           MOV      R1,R6
   \   0000002C   0D0000EA           B        ??ParseRead_InputReg_2
    272            
    273            unsigned short StartAddr = HiLow (Frame[2], Frame[3]);
   \                     ??ParseRead_InputReg_1:
   \   00000030   0230D0E5           LDRB     R3,[R0, #+2]
   \   00000034   0340D0E5           LDRB     R4,[R0, #+3]
   \   00000038   033484E1           ORR      R3,R4,R3, LSL #+8
   \   0000003C   00308DE5           STR      R3,[SP, #+0]
    274            unsigned short RegCount  = HiLow (Frame[4], Frame[5]);
   \   00000040   0410D0E5           LDRB     R1,[R0, #+4]
   \   00000044   0530D0E5           LDRB     R3,[R0, #+5]
   \   00000048   017493E1           ORRS     R7,R3,R1, LSL #+8
    275            
    276            if ((RegCount<1) || (RegCount>125)) 
   \   0000004C   0100000A           BEQ      ??ParseRead_InputReg_3
   \   00000050   7E0057E3           CMP      R7,#+126
   \   00000054   0700003A           BCC      ??ParseRead_InputReg_4
    277              { modbus_printf("Wrong 04func reg count %d\n\r", RegCount); return;}
   \                     ??ParseRead_InputReg_3:
   \   00000058   000052E3           CMP      R2,#+0
   \   0000005C   F387BD08           POPEQ    {R0,R1,R4-R10,PC}
   \   00000060   0720A0E1           MOV      R2,R7
   \   00000064   201086E2           ADD      R1,R6,#+32
   \                     ??ParseRead_InputReg_2:
   \   00000068   D4009FE5           LDR      R0,??ParseRead_InputReg_0+0x8  ;; _A_RAMConfig + 512
   \   0000006C   ........           _BLF     sprintf,??sprintf??rA
   \   00000070   ........           BL       DBGU_SendBuf
   \   00000074   F387BDE8           POP      {R0,R1,R4-R10,PC}
    278          
    279            // 1) form header of frame
    280            Answ[0] = Frame[0]; //address
   \                     ??ParseRead_InputReg_4:
   \   00000078   0010D0E5           LDRB     R1,[R0, #+0]
   \   0000007C   0010C5E5           STRB     R1,[R5, #+0]
    281            Answ[1] = Frame[1]; //func code
   \   00000080   0100D0E5           LDRB     R0,[R0, #+1]
   \   00000084   0100C5E5           STRB     R0,[R5, #+1]
    282            Answ[2] = (unsigned char) (2 * RegCount); //byte count
   \   00000088   0700A0E1           MOV      R0,R7
   \   0000008C   8000A0E1           LSL      R0,R0,#+1
   \   00000090   0200C5E5           STRB     R0,[R5, #+2]
    283            unsigned char Count = 3;
   \   00000094   0310A0E3           MOV      R1,#+3
    284          
    285            // 2) reading registers and appending them to answer
    286            unsigned short Addr;
    287            for (Addr = StartAddr; Addr < StartAddr+RegCount; Addr++)
   \   00000098   00809DE5           LDR      R8,[SP, #+0]
   \   0000009C   120000EA           B        ??ParseRead_InputReg_5
    288            {
    289              signed int Reg = ReadInputReg(Addr);
   \                     ??ParseRead_InputReg_6:
   \   000000A0   0800A0E1           MOV      R0,R8
   \   000000A4   ........           BL       ReadInputReg
   \   000000A8   0090A0E1           MOV      R9,R0
    290              modbus_printf ("Read input reg 0x%X = %d\n\r", Addr, Reg);
   \   000000AC   88009FE5           LDR      R0,??ParseRead_InputReg_0  ;; ValSKZ + 250
   \   000000B0   0000D0E5           LDRB     R0,[R0, #+0]
   \   000000B4   000050E3           CMP      R0,#+0
   \   000000B8   0500000A           BEQ      ??ParseRead_InputReg_7
   \   000000BC   0930A0E1           MOV      R3,R9
   \   000000C0   0820A0E1           MOV      R2,R8
   \   000000C4   3C1086E2           ADD      R1,R6,#+60
   \   000000C8   74009FE5           LDR      R0,??ParseRead_InputReg_0+0x8  ;; _A_RAMConfig + 512
   \   000000CC   ........           _BLF     sprintf,??sprintf??rA
   \   000000D0   ........           BL       DBGU_SendBuf
    291              Answ[Count] = Hi(Reg);
   \                     ??ParseRead_InputReg_7:
   \   000000D4   2904A0E1           LSR      R0,R9,#+8
   \   000000D8   0000CAE5           STRB     R0,[R10, #+0]
    292              Count++;
    293              Answ[Count] = Low(Reg);
   \   000000DC   0590C4E7           STRB     R9,[R4, +R5]
    294              Count++;
   \   000000E0   011084E2           ADD      R1,R4,#+1
   \   000000E4   FF1001E2           AND      R1,R1,#0xFF
    295            }
   \   000000E8   018088E2           ADD      R8,R8,#+1
   \                     ??ParseRead_InputReg_5:
   \   000000EC   0888A0E1           MOV      R8,R8, LSL #+16
   \   000000F0   2888A0E1           MOV      R8,R8, LSR #+16
   \   000000F4   014081E2           ADD      R4,R1,#+1
   \   000000F8   FF4004E2           AND      R4,R4,#0xFF
   \   000000FC   05A081E0           ADD      R10,R1,R5
   \   00000100   00009DE5           LDR      R0,[SP, #+0]
   \   00000104   0008A0E1           MOV      R0,R0, LSL #+16
   \   00000108   2008A0E1           MOV      R0,R0, LSR #+16
   \   0000010C   000087E0           ADD      R0,R7,R0
   \   00000110   000058E1           CMP      R8,R0
   \   00000114   E1FFFFBA           BLT      ??ParseRead_InputReg_6
    296            
    297            // 3) appending CRC
    298            unsigned short crc = ModbusCRC(Answ, Count);
   \   00000118   0500A0E1           MOV      R0,R5
   \   0000011C   ........           BL       ModbusCRC
    299            Answ[Count] = Low(crc);
   \   00000120   0000CAE5           STRB     R0,[R10, #+0]
    300            Count++;
    301            Answ[Count] = Hi(crc);
   \   00000124   2004A0E1           LSR      R0,R0,#+8
   \   00000128   0500C4E7           STRB     R0,[R4, +R5]
    302            Count++;
    303            
    304            // 4) returning answer frame length
    305            *AnswCount = Count;
   \   0000012C   04009DE5           LDR      R0,[SP, #+4]
   \   00000130   011084E2           ADD      R1,R4,#+1
   \   00000134   0010C0E5           STRB     R1,[R0, #+0]
    306            return;
   \   00000138   F387BDE8           POP      {R0,R1,R4-R10,PC}
   \                     ??ParseRead_InputReg_0:
   \   0000013C   ........           DC32     ValSKZ + 250
   \   00000140   ........           DC32     `?<Constant "Wrong 04func frame le...">`
   \   00000144   ........           DC32     _A_RAMConfig + 512
    307          }
    308          //*******************************************************************
    309          //* writes physical variables as logical modbus registers β ύςξμ βθδε ξςοπΰβλώςρ πεγθρςπϋ 

   \                                 In segment CODE, align 4, keep-with-next
    310          void WriteHoldingReg( unsigned short Addr, unsigned short Value)
    311          {
   \                     WriteHoldingReg:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
    312            modbus_printf ("Write holding reg 0x%X = %d\n\r", Addr, Value)
   \   0000000C   ........           LDR      R7,??DataTable28  ;; _A_RAMConfig
   \   00000010   ........           LDR      R6,??DataTable27  ;; ValSKZ
   \   00000014   FA00D6E5           LDRB     R0,[R6, #+250]
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0500000A           BEQ      ??WriteHoldingReg_0
   \   00000020   0530A0E1           MOV      R3,R5
   \   00000024   0420A0E1           MOV      R2,R4
   \   00000028   A0109FE5           LDR      R1,??WriteHoldingReg_1  ;; `?<Constant "Write holding reg 0x%...">`
   \   0000002C   800F87E2           ADD      R0,R7,#+512
   \   00000030   ........           _BLF     sprintf,??sprintf??rA
   \   00000034   ........           BL       DBGU_SendBuf
    313            if (Addr==0x80) {Config.ValFreqCount = Value; WriteConfig();}
   \                     ??WriteHoldingReg_0:
   \   00000038   800054E3           CMP      R4,#+128
   \   0000003C   0200001A           BNE      ??WriteHoldingReg_2
   \   00000040   085087E5           STR      R5,[R7, #+8]
   \   00000044   F040BDE8           POP      {R4-R7,LR}       ;; Pop
   \   00000048   ........           _BF      WriteConfig,??WriteConfig??rA  ;; tailcall
    314            if (Addr==0x81) {SetSKZ_1(); return;}
   \                     ??WriteHoldingReg_2:
   \   0000004C   810054E3           CMP      R4,#+129
   \   00000050   0100001A           BNE      ??WriteHoldingReg_3
   \   00000054   F040BDE8           POP      {R4-R7,LR}       ;; Pop
   \   00000058   ........           B        SetSKZ_1         ;; tailcall
    315            if (Addr==0x82) {SetSKZ_2(); 
   \                     ??WriteHoldingReg_3:
   \   0000005C   820054E3           CMP      R4,#+130
   \   00000060   F080BD18           POPNE    {R4-R7,PC}
   \   00000064   ........           BL       SetSKZ_2
    316            RelValSKZ1toSKZ2 =100*(double)(Config.ValSKZ_2)/(double)(Config.ValSKZ_1)-100; //relation value of levels (first calibration point to second calibration point)
   \   00000068   BA07D7E1           LDRH     R0,[R7, #+122]
   \   0000006C   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000070   0020A0E3           MOV      R2,#+0
   \   00000074   4034A0E3           MOV      R3,#+1073741824
   \   00000078   593883E3           ORR      R3,R3,#0x590000
   \   0000007C   ........           _BLF     __dMul,??__dMul??rA
   \   00000080   0040A0E1           MOV      R4,R0
   \   00000084   0150A0E1           MOV      R5,R1
   \   00000088   B807D7E1           LDRH     R0,[R7, #+120]
   \   0000008C   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000090   0020A0E1           MOV      R2,R0
   \   00000094   0130A0E1           MOV      R3,R1
   \   00000098   0400A0E1           MOV      R0,R4
   \   0000009C   0510A0E1           MOV      R1,R5
   \   000000A0   ........           _BLF     __dDiv,??__dDiv??rA
   \   000000A4   0020A0E3           MOV      R2,#+0
   \   000000A8   C034A0E3           MOV      R3,#-1073741824
   \   000000AC   593883E3           ORR      R3,R3,#0x590000
   \   000000B0   ........           _BLF     __dAdd,??__dAdd??rA
   \   000000B4   ........           _BLF     __doubleToLong,??__doubleToLong??rA
   \   000000B8   F900C6E5           STRB     R0,[R6, #+249]
    317            if(RelValSKZ1toSKZ2 <= 0)RelValSKZ1toSKZ2=0;
    318            if(RelValSKZ1toSKZ2 > 100)RelValSKZ1toSKZ2=100;
   \   000000BC   FF0000E2           AND      R0,R0,#0xFF
   \   000000C0   650050E3           CMP      R0,#+101
   \   000000C4   6400A023           MOVCS    R0,#+100
   \   000000C8   F900C625           STRBCS   R0,[R6, #+249]
   \   000000CC   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??WriteHoldingReg_1:
   \   000000D0   ........           DC32     `?<Constant "Write holding reg 0x%...">`
    319            return; }
    320            return;
    321          }
    322          
    323          //*******************************************************************
    324          //* func code 0x06 τ- ηΰοθρϋβΰες πεγθρςπ ξζθδΰνθ ξδθνξχνϋι

   \                                 In segment CODE, align 4, keep-with-next
    325          inline void ParseWriteSingle_HoldingReg (unsigned char *Frame, unsigned char FrameCount,
    326                                                   unsigned char *Answ, unsigned char *AnswCount)
    327          {
   \                     ParseWriteSingle_HoldingReg:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0240A0E1           MOV      R4,R2
   \   00000008   0350A0E1           MOV      R5,R3
    328            if (FrameCount != 8) // addr + funccode + 2regaddr + 2regvalue + 2crc
   \   0000000C   080051E3           CMP      R1,#+8
   \   00000010   0900000A           BEQ      ??ParseWriteSingle_HoldingReg_0
    329              { modbus_printf("Wrong 06func frame length %d\n\r", FrameCount); return;}
   \   00000014   94009FE5           LDR      R0,??ParseWriteSingle_HoldingReg_1  ;; ValSKZ + 250
   \   00000018   0000D0E5           LDRB     R0,[R0, #+0]
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   3080BD08           POPEQ    {R4,R5,PC}
   \   00000024   0120A0E1           MOV      R2,R1
   \   00000028   84109FE5           LDR      R1,??ParseWriteSingle_HoldingReg_1+0x4  ;; `?<Constant "Wrong 06func frame le...">`
   \   0000002C   84009FE5           LDR      R0,??ParseWriteSingle_HoldingReg_1+0x8  ;; _A_RAMConfig + 512
   \   00000030   ........           _BLF     sprintf,??sprintf??rA
   \   00000034   3040BDE8           POP      {R4,R5,LR}       ;; Pop
   \   00000038   ........           B        DBGU_SendBuf     ;; tailcall
    330          
    331            unsigned short RegAddr = HiLow (Frame[2], Frame[3]);
   \                     ??ParseWriteSingle_HoldingReg_0:
   \   0000003C   0210D0E5           LDRB     R1,[R0, #+2]
   \   00000040   0320D0E5           LDRB     R2,[R0, #+3]
   \   00000044   012482E1           ORR      R2,R2,R1, LSL #+8
    332            unsigned short RegValue = HiLow (Frame[4], Frame[5]);
   \   00000048   0410D0E5           LDRB     R1,[R0, #+4]
   \   0000004C   0530D0E5           LDRB     R3,[R0, #+5]
   \   00000050   011483E1           ORR      R1,R3,R1, LSL #+8
    333          
    334            // 1) form header of frame
    335            Answ[0] = Frame[0]; //address
   \   00000054   0030D0E5           LDRB     R3,[R0, #+0]
   \   00000058   0030C4E5           STRB     R3,[R4, #+0]
    336            Answ[1] = Frame[1]; //func code
   \   0000005C   0130D0E5           LDRB     R3,[R0, #+1]
   \   00000060   0130C4E5           STRB     R3,[R4, #+1]
    337            Answ[2] = Frame[2]; //addr hi
   \   00000064   0230D0E5           LDRB     R3,[R0, #+2]
   \   00000068   0230C4E5           STRB     R3,[R4, #+2]
    338            Answ[3] = Frame[3]; //addr low
   \   0000006C   0330D0E5           LDRB     R3,[R0, #+3]
   \   00000070   0330C4E5           STRB     R3,[R4, #+3]
    339            Answ[4] = Frame[4]; //val hi
   \   00000074   0430D0E5           LDRB     R3,[R0, #+4]
   \   00000078   0430C4E5           STRB     R3,[R4, #+4]
    340            Answ[5] = Frame[5]; //val low
   \   0000007C   0500D0E5           LDRB     R0,[R0, #+5]
   \   00000080   0500C4E5           STRB     R0,[R4, #+5]
    341          
    342            // 2) writing reg
    343            WriteHoldingReg( RegAddr, RegValue);
   \   00000084   0200A0E1           MOV      R0,R2
   \   00000088   ........           BL       WriteHoldingReg
    344          
    345            // 3) appending CRC
    346            unsigned short crc = ModbusCRC(Answ, 6);
   \   0000008C   0610A0E3           MOV      R1,#+6
   \   00000090   0400A0E1           MOV      R0,R4
   \   00000094   ........           BL       ModbusCRC
    347            Answ[6] = Low(crc);
   \   00000098   0600C4E5           STRB     R0,[R4, #+6]
    348            Answ[7] = Hi(crc);
   \   0000009C   2004A0E1           LSR      R0,R0,#+8
   \   000000A0   0700C4E5           STRB     R0,[R4, #+7]
    349            
    350            // 4) returning answer frame length
    351            *AnswCount = 8;
   \   000000A4   0800A0E3           MOV      R0,#+8
   \   000000A8   0000C5E5           STRB     R0,[R5, #+0]
    352            return;
   \   000000AC   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??ParseWriteSingle_HoldingReg_1:
   \   000000B0   ........           DC32     ValSKZ + 250
   \   000000B4   ........           DC32     `?<Constant "Wrong 06func frame le...">`
   \   000000B8   ........           DC32     _A_RAMConfig + 512
    353          }
    354          
    355          //*******************************************************************
    356          //* func code 0x10 τ- ηΰοθρϋβΰες μνξζερςβεννϋι πεγθρςπ ξζθδΰνθ

   \                                 In segment CODE, align 4, keep-with-next
    357          inline void ParseWriteMulty_HoldingReg (unsigned char *Frame, unsigned char FrameCount,
    358                                                  unsigned char *Answ, unsigned char *AnswCount)
    359          {
   \                     ParseWriteMulty_HoldingReg:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   0060A0E1           MOV      R6,R0
   \   00000008   0240A0E1           MOV      R4,R2
   \   0000000C   0350A0E1           MOV      R5,R3
    360            unsigned short StartAddr = HiLow (Frame[2], Frame[3]);
   \   00000010   0200D6E5           LDRB     R0,[R6, #+2]
   \   00000014   0320D6E5           LDRB     R2,[R6, #+3]
   \   00000018   007482E1           ORR      R7,R2,R0, LSL #+8
    361            unsigned short RegCount = HiLow (Frame[4], Frame[5]);
   \   0000001C   0400D6E5           LDRB     R0,[R6, #+4]
   \   00000020   0520D6E5           LDRB     R2,[R6, #+5]
   \   00000024   008492E1           ORRS     R8,R2,R0, LSL #+8
    362            unsigned char ByteCount = Frame[6];
   \   00000028   0630D6E5           LDRB     R3,[R6, #+6]
   \   0000002C   00019FE5           LDR      R0,??ParseWriteMulty_HoldingReg_0  ;; ValSKZ + 250
   \   00000030   0020D0E5           LDRB     R2,[R0, #+0]
   \   00000034   80CFA0E3           MOV      R12,#+512
   \   00000038   F8E09FE5           LDR      LR,??ParseWriteMulty_HoldingReg_0+0x4  ;; _A_RAMConfig
   \   0000003C   F8009FE5           LDR      R0,??ParseWriteMulty_HoldingReg_0+0x8  ;; `?<Constant "Wrong 10func reg coun...">`
   \   00000040   0500000A           BEQ      ??ParseWriteMulty_HoldingReg_1
   \   00000044   0890A0E1           MOV      R9,R8
   \   00000048   7C0059E3           CMP      R9,#+124
   \   0000004C   0200002A           BCS      ??ParseWriteMulty_HoldingReg_1
   \   00000050   8990A0E1           LSL      R9,R9,#+1
   \   00000054   090053E1           CMP      R3,R9
   \   00000058   0600000A           BEQ      ??ParseWriteMulty_HoldingReg_2
    363            
    364            if ((RegCount<1) || (RegCount>123) || (ByteCount!=RegCount*2))
    365                { modbus_printf("Wrong 10func reg count %d or wrong bytecount%d\n\r", RegCount, ByteCount); return;}
   \                     ??ParseWriteMulty_HoldingReg_1:
   \   0000005C   000052E3           CMP      R2,#+0
   \   00000060   F083BD08           POPEQ    {R4-R9,PC}
   \   00000064   0820A0E1           MOV      R2,R8
   \   00000068   0010A0E1           MOV      R1,R0
   \   0000006C   0E008CE0           ADD      R0,R12,LR
   \   00000070   ........           _BLF     sprintf,??sprintf??rA
   \   00000074   080000EA           B        ??ParseWriteMulty_HoldingReg_3
    366            
    367            if (FrameCount != (9+RegCount*2)) // addr + funccode + 2regaddr + 2regcount + bytecount + 2crc +2*RegCount
   \                     ??ParseWriteMulty_HoldingReg_2:
   \   00000078   093089E2           ADD      R3,R9,#+9
   \   0000007C   030051E1           CMP      R1,R3
   \   00000080   0700000A           BEQ      ??ParseWriteMulty_HoldingReg_4
    368            { modbus_printf("Wrong 10func frame length %d\n\r", FrameCount); return;}
   \   00000084   000052E3           CMP      R2,#+0
   \   00000088   F083BD08           POPEQ    {R4-R9,PC}
   \   0000008C   0120A0E1           MOV      R2,R1
   \   00000090   341080E2           ADD      R1,R0,#+52
   \   00000094   0E008CE0           ADD      R0,R12,LR
   \   00000098   ........           _BLF     sprintf,??sprintf??rA
   \                     ??ParseWriteMulty_HoldingReg_3:
   \   0000009C   F043BDE8           POP      {R4-R9,LR}
   \   000000A0   ........           B        DBGU_SendBuf     ;; tailcall
    369          
    370            // 1) form header of frame
    371            Answ[0] = Frame[0]; //address
   \                     ??ParseWriteMulty_HoldingReg_4:
   \   000000A4   0000D6E5           LDRB     R0,[R6, #+0]
   \   000000A8   0000C4E5           STRB     R0,[R4, #+0]
    372            Answ[1] = Frame[1]; //func code
   \   000000AC   0100D6E5           LDRB     R0,[R6, #+1]
   \   000000B0   0100C4E5           STRB     R0,[R4, #+1]
    373            Answ[2] = Frame[2]; //addr hi
   \   000000B4   0200D6E5           LDRB     R0,[R6, #+2]
   \   000000B8   0200C4E5           STRB     R0,[R4, #+2]
    374            Answ[3] = Frame[3]; //addr low
   \   000000BC   0300D6E5           LDRB     R0,[R6, #+3]
   \   000000C0   0300C4E5           STRB     R0,[R4, #+3]
    375            Answ[4] = Frame[4]; //count hi
   \   000000C4   0400D6E5           LDRB     R0,[R6, #+4]
   \   000000C8   0400C4E5           STRB     R0,[R4, #+4]
    376            Answ[5] = Frame[5]; //count low
   \   000000CC   0500D6E5           LDRB     R0,[R6, #+5]
   \   000000D0   0500C4E5           STRB     R0,[R4, #+5]
    377          
    378            // 2) writing regs
    379            unsigned short RegIndex, RegValue;
    380            for (RegIndex = 0; RegIndex < RegCount; RegIndex++)
   \   000000D4   0090A0E3           MOV      R9,#+0
   \   000000D8   0A0000EA           B        ??ParseWriteMulty_HoldingReg_5
   \                     ??ParseWriteMulty_HoldingReg_6:
   \   000000DC   890086E0           ADD      R0,R6,R9, LSL #+1
   \   000000E0   0710D0E5           LDRB     R1,[R0, #+7]
   \   000000E4   0800D0E5           LDRB     R0,[R0, #+8]
   \   000000E8   011480E1           ORR      R1,R0,R1, LSL #+8
   \   000000EC   070089E0           ADD      R0,R9,R7
   \   000000F0   0008A0E1           MOV      R0,R0, LSL #+16
   \   000000F4   2008A0E1           MOV      R0,R0, LSR #+16
    381            {
    382              RegValue = HiLow ( Frame[7+RegIndex*2], Frame[8+RegIndex*2] );
    383              WriteHoldingReg( StartAddr + RegIndex, RegValue);
   \   000000F8   ........           BL       WriteHoldingReg
    384            }
   \   000000FC   019089E2           ADD      R9,R9,#+1
   \   00000100   0998A0E1           MOV      R9,R9, LSL #+16
   \   00000104   2998A0E1           MOV      R9,R9, LSR #+16
   \                     ??ParseWriteMulty_HoldingReg_5:
   \   00000108   080059E1           CMP      R9,R8
   \   0000010C   F2FFFF3A           BCC      ??ParseWriteMulty_HoldingReg_6
    385          
    386            // 3) appending CRC
    387            unsigned short crc = ModbusCRC(Answ, 6);
   \   00000110   0610A0E3           MOV      R1,#+6
   \   00000114   0400A0E1           MOV      R0,R4
   \   00000118   ........           BL       ModbusCRC
    388            Answ[6] = Low(crc);
   \   0000011C   0600C4E5           STRB     R0,[R4, #+6]
    389            Answ[7] = Hi(crc);
   \   00000120   2004A0E1           LSR      R0,R0,#+8
   \   00000124   0700C4E5           STRB     R0,[R4, #+7]
    390            
    391            // 4) returning answer frame length
    392            *AnswCount = 8;
   \   00000128   0800A0E3           MOV      R0,#+8
   \   0000012C   0000C5E5           STRB     R0,[R5, #+0]
    393            return;
   \   00000130   F083BDE8           POP      {R4-R9,PC}
   \                     ??ParseWriteMulty_HoldingReg_0:
   \   00000134   ........           DC32     ValSKZ + 250
   \   00000138   ........           DC32     _A_RAMConfig
   \   0000013C   ........           DC32     `?<Constant "Wrong 10func reg coun...">`
    394          }
    395          
    396          //*******************************************************************
    397          //* if AnswCount = 0, then no answer.

   \                                 In segment CODE, align 4, keep-with-next
    398          void ProcessModbusFrame (unsigned char *Frame, unsigned char FrameCount,
    399                                 unsigned char *Answ, unsigned char *AnswCount)
    400          {
   \                     ProcessModbusFrame:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   \   0000000C   0270A0E1           MOV      R7,R2
   \   00000010   0380A0E1           MOV      R8,R3
   \   00000014   0000A0E3           MOV      R0,#+0
   \   00000018   0000C8E5           STRB     R0,[R8, #+0]
    401            *AnswCount = 0;
    402            //check  address
    403            unsigned char Addr = Frame[0];
    404            if (Addr!=Config.ModbusAddr) 
   \   0000001C   809FA0E3           MOV      R9,#+512
   \   00000020   C0A19FE5           LDR      R10,??ProcessModbusFrame_0  ;; `?<Constant "Wrong modbus addr\\n\\r">`
   \   00000024   ........           LDR      R6,??DataTable27  ;; ValSKZ
   \   00000028   ........           LDR      R11,??DataTable28  ;; _A_RAMConfig
   \   0000002C   0000D4E5           LDRB     R0,[R4, #+0]
   \   00000030   04109BE5           LDR      R1,[R11, #+4]
   \   00000034   010050E1           CMP      R0,R1
   \   00000038   0400000A           BEQ      ??ProcessModbusFrame_1
    405            { modbus_printf("Wrong modbus addr\n\r"); return;}
   \   0000003C   FA00D6E5           LDRB     R0,[R6, #+250]
   \   00000040   000050E3           CMP      R0,#+0
   \   00000044   F08FBD08           POPEQ    {R4-R11,PC}
   \   00000048   0A10A0E1           MOV      R1,R10
   \   0000004C   080000EA           B        ??ProcessModbusFrame_2
    406            //check crc
    407            unsigned short crc;
    408            crc = ModbusCRC (Frame, FrameCount);
   \                     ??ProcessModbusFrame_1:
   \   00000050   0510A0E1           MOV      R1,R5
   \   00000054   0400A0E1           MOV      R0,R4
   \   00000058   ........           BL       ModbusCRC
    409            if (crc!=0) { modbus_printf("Wrong modbus crc\n\r"); return;}
   \   0000005C   FA10D6E5           LDRB     R1,[R6, #+250]
   \   00000060   000050E3           CMP      R0,#+0
   \   00000064   0500000A           BEQ      ??ProcessModbusFrame_3
   \   00000068   000051E3           CMP      R1,#+0
   \   0000006C   F08FBD08           POPEQ    {R4-R11,PC}
   \   00000070   14108AE2           ADD      R1,R10,#+20
   \                     ??ProcessModbusFrame_2:
   \   00000074   0B0089E0           ADD      R0,R9,R11
   \   00000078   ........           _BLF     sprintf,??sprintf??rA
   \   0000007C   570000EA           B        ??ProcessModbusFrame_4
    410            //parsing func code
    411            unsigned char FuncCode = Frame[1];
   \                     ??ProcessModbusFrame_3:
   \   00000080   0120D4E5           LDRB     R2,[R4, #+1]
    412            switch (FuncCode)
   \   00000084   040052E2           SUBS     R0,R2,#+4
   \   00000088   3D00000A           BEQ      ??ProcessModbusFrame_5
   \   0000008C   020050E2           SUBS     R0,R0,#+2
   \   00000090   4100000A           BEQ      ??ProcessModbusFrame_6
   \   00000094   060050E2           SUBS     R0,R0,#+6
   \   00000098   3500000A           BEQ      ??ProcessModbusFrame_7
   \   0000009C   040050E2           SUBS     R0,R0,#+4
   \   000000A0   4300000A           BEQ      ??ProcessModbusFrame_8
   \   000000A4   BB0050E2           SUBS     R0,R0,#+187
   \   000000A8   2A00000A           BEQ      ??ProcessModbusFrame_9
   \   000000AC   010050E2           SUBS     R0,R0,#+1
   \   000000B0   1200000A           BEQ      ??ProcessModbusFrame_10
   \   000000B4   010050E2           SUBS     R0,R0,#+1
   \   000000B8   0400000A           BEQ      ??ProcessModbusFrame_11
   \   000000BC   010050E2           SUBS     R0,R0,#+1
   \   000000C0   0600000A           BEQ      ??ProcessModbusFrame_12
   \   000000C4   010050E2           SUBS     R0,R0,#+1
   \   000000C8   0F00000A           BEQ      ??ProcessModbusFrame_13
   \   000000CC   3E0000EA           B        ??ProcessModbusFrame_14
    413            {
    414            case 0xCD: SKZ_arrays_read (Frame, FrameCount);break;  
   \                     ??ProcessModbusFrame_11:
   \   000000D0   0510A0E1           MOV      R1,R5
   \   000000D4   0400A0E1           MOV      R0,R4
   \   000000D8   F04FBDE8           POP      {R4-R11,LR}      ;; Pop
   \   000000DC   ........           _BF      SKZ_arrays_read,??SKZ_arrays_read??rA  ;; tailcall
    415            case 0xCE: Freq_Order_Read (Frame, FrameCount);break;  
   \                     ??ProcessModbusFrame_12:
   \   000000E0   0000A0E3           MOV      R0,#+0
   \   000000E4   7C108BE2           ADD      R1,R11,#+124
   \                     ??ProcessModbusFrame_15:
   \   000000E8   0220D4E5           LDRB     R2,[R4, #+2]
   \   000000EC   0120C0E7           STRB     R2,[R0, +R1]
   \   000000F0   010080E2           ADD      R0,R0,#+1
   \   000000F4   130050E3           CMP      R0,#+19
   \   000000F8   F08FBD28           POPCS    {R4-R11,PC}
   \   000000FC   F9FFFFEA           B        ??ProcessModbusFrame_15
    416            case 0xCC: Read_freq_count(Frame, FrameCount); break;
   \                     ??ProcessModbusFrame_10:
   \   00000100   0200D4E5           LDRB     R0,[R4, #+2]
   \   00000104   08008BE5           STR      R0,[R11, #+8]
   \   00000108   F08FBDE8           POP      {R4-R11,PC}
    417            case 0xCF: Read_object_on_level(Frame, FrameCount); break;
   \                     ??ProcessModbusFrame_13:
   \   0000010C   0000A0E3           MOV      R0,#+0
   \   00000110   9C0086E5           STR      R0,[R6, #+156]
   \   00000114   0200D4E5           LDRB     R0,[R4, #+2]
   \   00000118   0310D4E5           LDRB     R1,[R4, #+3]
   \   0000011C   000481E1           ORR      R0,R1,R0, LSL #+8
   \   00000120   9C0086E5           STR      R0,[R6, #+156]
   \   00000124   08009BE5           LDR      R0,[R11, #+8]
   \   00000128   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   0000012C   ........           _BLF     sqrt,??sqrt??rA
   \   00000130   0040A0E1           MOV      R4,R0
   \   00000134   0150A0E1           MOV      R5,R1
   \   00000138   9C0096E5           LDR      R0,[R6, #+156]
   \   0000013C   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   00000140   0420A0E1           MOV      R2,R4
   \   00000144   0530A0E1           MOV      R3,R5
   \   00000148   ........           _BLF     __dDiv,??__dDiv??rA
   \   0000014C   ........           _BLF     __doubleToUlong,??__doubleToUlong??rA
   \   00000150   9C0086E5           STR      R0,[R6, #+156]
   \   00000154   F08FBDE8           POP      {R4-R11,PC}
    418            case 0xCB: Read_MINSKZ_value(Frame, FrameCount);break;
   \                     ??ProcessModbusFrame_9:
   \   00000158   0200D4E5           LDRB     R0,[R4, #+2]
   \   0000015C   0004A0E1           LSL      R0,R0,#+8
   \   00000160   980086E5           STR      R0,[R6, #+152]
   \   00000164   0310D4E5           LDRB     R1,[R4, #+3]
   \   00000168   000081E0           ADD      R0,R1,R0
   \   0000016C   980086E5           STR      R0,[R6, #+152]
   \   00000170   F08FBDE8           POP      {R4-R11,PC}
    419            case 0x0C: Read_SKZ_func(Frame, FrameCount);break;  
   \                     ??ProcessModbusFrame_7:
   \   00000174   0510A0E1           MOV      R1,R5
   \   00000178   0400A0E1           MOV      R0,R4
   \   0000017C   F04FBDE8           POP      {R4-R11,LR}      ;; Pop
   \   00000180   ........           _BF      Read_SKZ_func,??Read_SKZ_func??rA  ;; tailcall
    420            case 0x04: ParseRead_InputReg(Frame, FrameCount, Answ, AnswCount); break; //χθςΰεμ πεγθρςπ MODBUS
   \                     ??ProcessModbusFrame_5:
   \   00000184   0830A0E1           MOV      R3,R8
   \   00000188   0720A0E1           MOV      R2,R7
   \   0000018C   0510A0E1           MOV      R1,R5
   \   00000190   0400A0E1           MOV      R0,R4
   \   00000194   F04FBDE8           POP      {R4-R11,LR}      ;; Pop
   \   00000198   ........           _BF      ParseRead_InputReg,??ParseRead_InputReg??rA  ;; tailcall
    421            case 0x06: ParseWriteSingle_HoldingReg(Frame, FrameCount, Answ, AnswCount); break;//χθςΰεμ πεγθρςπ MODBUS θ ξςοπΰβλεμ ηνΰχενθε νΰ ΑΚΘ
   \                     ??ProcessModbusFrame_6:
   \   0000019C   0830A0E1           MOV      R3,R8
   \   000001A0   0720A0E1           MOV      R2,R7
   \   000001A4   0510A0E1           MOV      R1,R5
   \   000001A8   0400A0E1           MOV      R0,R4
   \   000001AC   F04FBDE8           POP      {R4-R11,LR}      ;; Pop
   \   000001B0   ........           _BF      ParseWriteSingle_HoldingReg,??ParseWriteSingle_HoldingReg??rA  ;; tailcall
    422            case 0x10: ParseWriteMulty_HoldingReg(Frame, FrameCount, Answ, AnswCount); break;
   \                     ??ProcessModbusFrame_8:
   \   000001B4   0830A0E1           MOV      R3,R8
   \   000001B8   0720A0E1           MOV      R2,R7
   \   000001BC   0510A0E1           MOV      R1,R5
   \   000001C0   0400A0E1           MOV      R0,R4
   \   000001C4   F04FBDE8           POP      {R4-R11,LR}      ;; Pop
   \   000001C8   ........           _BF      ParseWriteMulty_HoldingReg,??ParseWriteMulty_HoldingReg??rA  ;; tailcall
    423            default: modbus_printf ("Wrong func code %d\n\r", FuncCode)//AnswerIllegalFuncCode(Frame, FrameCount, Answ, AnswCount);
   \                     ??ProcessModbusFrame_14:
   \   000001CC   000051E3           CMP      R1,#+0
   \   000001D0   F08FBD08           POPEQ    {R4-R11,PC}
   \   000001D4   28108AE2           ADD      R1,R10,#+40
   \   000001D8   0B0089E0           ADD      R0,R9,R11
   \   000001DC   ........           _BLF     sprintf,??sprintf??rA
   \                     ??ProcessModbusFrame_4:
   \   000001E0   F04FBDE8           POP      {R4-R11,LR}      ;; Pop
   \   000001E4   ........           B        DBGU_SendBuf     ;; tailcall
   \                     ??ProcessModbusFrame_0:
   \   000001E8   ........           DC32     `?<Constant "Wrong modbus addr\\n\\r">`
    424            }
    425          }
    426          
    427          //*********************************************************
    428          //  USART0 waiting frame - setting pdc, writing sttto

   \                                 In segment CODE, align 4, keep-with-next
    429          inline void StartTimeout ()
    430          {
   \                     StartTimeout:
   \   00000000   24009FE5           LDR      R0,??StartTimeout_0  ;; ValSKZ + 72
   \   00000004   000090E5           LDR      R0,[R0, #+0]
   \   00000008   401FA0E3           MOV      R1,#+256
   \   0000000C   1C209FE5           LDR      R2,??StartTimeout_0+0x4  ;; _A_RAMConfig
   \   00000010   022081E0           ADD      R2,R1,R2
   \   00000014   002180E5           STR      R2,[R0, #+256]
    431            pUS0->US_RPR=(unsigned int)&US0_RecvBuf[0]; 
    432            pUS0->US_RCR = US0_BufSize; 
   \   00000018   041180E5           STR      R1,[R0, #+260]
    433            pUS0->US_CR |= (1<<11);
   \   0000001C   001090E5           LDR      R1,[R0, #+0]
   \   00000020   801E81E3           ORR      R1,R1,#0x800
   \   00000024   001080E5           STR      R1,[R0, #+0]
    434          }
   \   00000028   0EF0A0E1           MOV      PC,LR            ;; return
   \                     ??StartTimeout_0:
   \   0000002C   ........           DC32     ValSKZ + 72
   \   00000030   ........           DC32     _A_RAMConfig
    435          
    436          //**************************************************
    437          //* Function  main

   \                                 In segment CODE, align 4, keep-with-next
    438          int main( void )
    439          { 
   \                     main:
   \   00000000   F14F2DE9           PUSH     {R0,R4-R11,LR}
    440            //*******************************************************
    441            //  Configuring PMC controller
    442            pPMC->PMC_PCER = (1 << AT91C_ID_SYS) |
    443                             (1 << AT91C_ID_PIOA) |
    444                             (1 << AT91C_ID_TC0) |
    445                             (1 << AT91C_ID_SPI) |
    446                             (1 << AT91C_ID_US0) ;
   \   00000004   ........           LDR      R4,??DataTable30  ;; ValSKZ
   \   00000008   300094E5           LDR      R0,[R4, #+48]
   \   0000000C   6610A0E3           MOV      R1,#+102
   \   00000010   401D81E3           ORR      R1,R1,#0x1000
   \   00000014   101080E5           STR      R1,[R0, #+16]
    447            
    448            //*******************************************************
    449            //  Configuring PIO Controller
    450            
    451            #define ConfigPIOA(a) pPIO->PIO_ASR |= a; pPIO->PIO_PDR |=a;
    452            #define ConfigPIOB(a) pPIO->PIO_BSR |= a; pPIO->PIO_PDR |=a;
    453            #define ConfigGPIO_Out(a) pPIO->PIO_PER |= a; pPIO->PIO_OER |= a;
    454            
    455            ConfigPIOA (AT91C_PIO_PA9 |  //drxd
    456                        AT91C_PIO_PA10 | //dtxd
    457                        AT91C_PIO_PA12 | //spi miso
    458                        AT91C_PIO_PA13 | //spi mosi
    459                        AT91C_PIO_PA14 | //spi sck
    460                        AT91C_PIO_PA5| //usart0 rxd
    461                        AT91C_PIO_PA6| //usart0 txd
    462                        AT91C_PIO_PA7| //usart0 rts (for 485)
    463                        AT91C_PIO_PA31 ); //spi npcs1 - for attenuator
   \   00000018   340094E5           LDR      R0,[R4, #+52]
   \   0000001C   B0159FE5           LDR      R1,??main_0      ;; 0x800076e0
   \   00000020   702090E5           LDR      R2,[R0, #+112]
   \   00000024   022081E1           ORR      R2,R1,R2
   \   00000028   702080E5           STR      R2,[R0, #+112]
   \   0000002C   042090E5           LDR      R2,[R0, #+4]
   \   00000030   021081E1           ORR      R1,R1,R2
   \   00000034   041080E5           STR      R1,[R0, #+4]
    464            ConfigPIOB (AT91C_PIO_PA0); //tioa0 output
   \   00000038   741090E5           LDR      R1,[R0, #+116]
   \   0000003C   011081E3           ORR      R1,R1,#0x1
   \   00000040   741080E5           STR      R1,[R0, #+116]
   \   00000044   041090E5           LDR      R1,[R0, #+4]
   \   00000048   011081E3           ORR      R1,R1,#0x1
   \   0000004C   041080E5           STR      R1,[R0, #+4]
    465            ConfigGPIO_Out (AT91C_PIO_PA1);//led
   \   00000050   001090E5           LDR      R1,[R0, #+0]
   \   00000054   021081E3           ORR      R1,R1,#0x2
   \   00000058   001080E5           STR      R1,[R0, #+0]
   \   0000005C   101090E5           LDR      R1,[R0, #+16]
   \   00000060   021081E3           ORR      R1,R1,#0x2
   \   00000064   101080E5           STR      R1,[R0, #+16]
    466          
    467            //********************************************************
    468            //  Configuring Timer 0
    469          //  unsigned int dummy;
    470            pTC0 = AT91C_BASE_TC0;
   \   00000068   FF04A0E3           MOV      R0,#-16777216
   \   0000006C   FA0880E3           ORR      R0,R0,#0xFA0000
   \   00000070   380084E5           STR      R0,[R4, #+56]
   \   00000074   0010A0E3           MOV      R1,#+0
   \   00000078   001080E5           STR      R1,[R0, #+0]
    471          
    472            pTC0->TC_CCR = 0; //disable clock
    473            pTC0->TC_IDR = 0xFFFFFFFF ; //disable all interrupt
   \   0000007C   281080E3           ORR      R1,R0,#0x28
   \   00000080   0020E0E3           MVN      R2,#+0
   \   00000084   002081E5           STR      R2,[R1, #+0]
    474          //  dummy = pTC0->TC_SR;
    475          //  dummy = dummy;
    476            
    477            pTC0->TC_CMR = 0x0009C000; //MCK/2, wave with trigger on rc
   \   00000088   041080E3           ORR      R1,R0,#0x4
   \   0000008C   9C2AA0E3           MOV      R2,#+638976
   \   00000090   002081E5           STR      R2,[R1, #+0]
    478            pTC0->TC_RA = 500; //800;
   \   00000094   141080E3           ORR      R1,R0,#0x14
   \   00000098   7D2FA0E3           MOV      R2,#+500
   \   0000009C   002081E5           STR      R2,[R1, #+0]
   \   000000A0   1C1080E3           ORR      R1,R0,#0x1C
   \   000000A4   FC2FA0E3           MOV      R2,#+1008
   \   000000A8   002081E5           STR      R2,[R1, #+0]
   \   000000AC   0110A0E3           MOV      R1,#+1
   \   000000B0   001080E5           STR      R1,[R0, #+0]
    479            pTC0->TC_RC = 1008; //25600Hz  //1613; //16KHz
    480            pTC0->TC_CCR = 1; //enable clock
    481            pTC0->TC_CCR = 4; //start
   \   000000B4   0410A0E3           MOV      R1,#+4
   \   000000B8   001080E5           STR      R1,[R0, #+0]
    482            
    483            //*********************************************************
    484            //  Configuring DBGU for printing 115200 8 bit no parity
    485            pDBGU->DBGU_BRGR = 28;
   \   000000BC   3C0094E5           LDR      R0,[R4, #+60]
   \   000000C0   1C10A0E3           MOV      R1,#+28
   \   000000C4   201080E5           STR      R1,[R0, #+32]
    486            pDBGU->DBGU_MR = 0x800;
   \   000000C8   801EA0E3           MOV      R1,#+2048
   \   000000CC   041080E5           STR      R1,[R0, #+4]
    487            pDBGU->DBGU_CR = (1<<6) | (1<<4); //TXEN & RXEN
   \   000000D0   5080A0E3           MOV      R8,#+80
   \   000000D4   008080E5           STR      R8,[R0, #+0]
    488            pDBGU->DBGU_PTCR = (1 << 8); //TXTEN for PDC
   \   000000D8   40AFA0E3           MOV      R10,#+256
   \   000000DC   20A180E5           STR      R10,[R0, #+288]
    489          
    490            //*********************************************************
    491            //  Configuring ADC
    492            pADC->ADC_MR = 0x00013001; //trigger on TIOA0 clock 500K
   \   000000E0   400094E5           LDR      R0,[R4, #+64]
   \   000000E4   0110A0E3           MOV      R1,#+1
   \   000000E8   4C1B81E3           ORR      R1,R1,#0x13000
   \   000000EC   041080E5           STR      R1,[R0, #+4]
    493            pADC->ADC_CHER = (1<<4);
   \   000000F0   1010A0E3           MOV      R1,#+16
   \   000000F4   101080E5           STR      R1,[R0, #+16]
    494            pADC->ADC_PTCR = 1; //RXTEN
   \   000000F8   0110A0E3           MOV      R1,#+1
   \   000000FC   201180E5           STR      R1,[R0, #+288]
    495          
    496            //*********************************************************
    497            //  Configuring SPI
    498            pSPI->SPI_CSR[1] = 0x0000FF02; //200KHz, 8 bit, rising edge
   \   00000100   440094E5           LDR      R0,[R4, #+68]
   \   00000104   0210A0E3           MOV      R1,#+2
   \   00000108   FF1C81E3           ORR      R1,R1,#0xFF00
   \   0000010C   341080E5           STR      R1,[R0, #+52]
    499            pSPI->SPI_MR = 0xFF000013; 
   \   00000110   1310A0E3           MOV      R1,#+19
   \   00000114   FF1481E3           ORR      R1,R1,#0xFF000000
   \   00000118   041080E5           STR      R1,[R0, #+4]
    500            pSPI->SPI_CR = 1;//enabled
   \   0000011C   0110A0E3           MOV      R1,#+1
   \   00000120   001080E5           STR      R1,[R0, #+0]
    501          
    502            //**********************************************************
    503            // Application initialization
    504            myprintf("\n\r>Start of work\n\r");
   \   00000124   805FA0E3           MOV      R5,#+512
   \   00000128   ........           LDR      R6,??DataTable31  ;; _A_RAMConfig
   \   0000012C   A4749FE5           LDR      R7,??main_0+0x4  ;; `?<Constant "\\n\\r>Start of work\\n\\r">`
   \   00000130   0710A0E1           MOV      R1,R7
   \   00000134   060085E0           ADD      R0,R5,R6
   \   00000138   ........           _BLF     sprintf,??sprintf??rA
   \   0000013C   ........           BL       DBGU_SendBuf
    505            SetGain(0);
   \   00000140   0000A0E3           MOV      R0,#+0
   \   00000144   ........           _BLF     SetGain,??SetGain??rA
    506            myprintf (">Debug interface ready\n\r");
   \   00000148   141087E2           ADD      R1,R7,#+20
   \   0000014C   060085E0           ADD      R0,R5,R6
   \   00000150   ........           _BLF     sprintf,??sprintf??rA
   \   00000154   ........           BL       DBGU_SendBuf
    507          
    508            ReadInitConfig();
   \   00000158   ........           BL       ReadInitConfig
    509          
    510            //*********************************************************
    511            //  Configuring USART0 for speed
    512            pUS0->US_MR = 0x000000C1;  //8 bit EVEN parity, RS485
   \   0000015C   480094E5           LDR      R0,[R4, #+72]
   \   00000160   C110A0E3           MOV      R1,#+193
   \   00000164   041080E5           STR      R1,[R0, #+4]
    513            pUS0->US_CR = (1<<6) | (1<<4); //TXEN & RXEN
   \   00000168   008080E5           STR      R8,[R0, #+0]
    514            pUS0->US_PTCR = (1 << 8) | (1); //TXTEN & RXTEN for PDC
   \   0000016C   401081E2           ADD      R1,R1,#+64
   \   00000170   201180E5           STR      R1,[R0, #+288]
    515            US0_SetBaudRate(Config.UARTRate);
   \   00000174   000096E5           LDR      R0,[R6, #+0]
   \   00000178   ........           _BLF     US0_SetBaudRate,??US0_SetBaudRate??rA
    516          //  Config.ValFreqCount = Value;
    517          //  SetSKZ_2 ();
    518            StartTimeout();
   \   0000017C   ........           _BLF     StartTimeout,??StartTimeout??rA
    519          //  SetGainCode(GainCode);
    520            myprintf ("Entering main endless loop\n\r");
   \   00000180   301087E2           ADD      R1,R7,#+48
   \                     ??main_1:
   \   00000184   060085E0           ADD      R0,R5,R6
   \   00000188   ........           _BLF     sprintf,??sprintf??rA
   \                     ??main_2:
   \   0000018C   ........           BL       DBGU_SendBuf
   \   00000190   030000EA           B        ??main_3
    521          // CalcSKZ();
    522          for (;;) //********* MAIN ENDLES LOOP *************************
    523          {   
    524              //sampling buffer from ADC
    525              pADC->ADC_RPR = (unsigned int)&ADC_Buf[0]; 
    526              pADC->ADC_RCR = ADC_Buf_Size;
    527                  
    528              while (pADC->ADC_RCR != 0) {} //wait ADC buf recieving
    529          //    if(!first_pass){
    530                CalcSKZ();//} 
    531              
    532              myprintf("\rSKZ1:%6d SKZ2:%6d SKZ:%6d=%3d SKZ1/SKZ2:%3d EnVal:%6d MinVal:%6d", Config.ValSKZ_1, Config.ValSKZ_2, ValSKZ, RelValSKZ,RelValSKZ1toSKZ2,(int)(Object_on_level/sqrt(Config.ValFreqCount)),MinSKZ_val);//SKZ1/SKZ2:%3d δξλζνξ αϋςό ςΰκθμ θνΰχε βρΈ λξμΰεςρ//(int)(Object_on_level*sqrt(Config.ValFreqCount))
    533          
    534            unsigned int i;
    535            unsigned char Count;
    536              
    537            //*******************************************************************
    538            // checking MODBUS frame recieved, processing it
    539            
    540            if (pUS0->US_CSR & (1<<8)) //is timeout
    541            {
    542              Count = US0_BufSize - pUS0->US_RCR; //save count
    543              pUS0->US_RCR = 0;                    //no more recieve
    544          
    545              modbus_printf ("Recieved %d chars\n\r", Count); //test print buf
    546              for (i=0; i<Count; i++) modbus_printf ("%2X ", US0_RecvBuf[i]);
    547              modbus_printf ("\n\r");
    548          
    549              //parsing frame and sending answer
    550              ProcessModbusFrame ((unsigned char*)&US0_RecvBuf[0], Count, (unsigned char*)&US0_SendBuf, &Count);    
    551              US0_Send(Count);
    552              
    553              StartTimeout(); //start waiting new frame
    554            }
    555          
    556            unsigned char Sym;
    557          
    558            //if symbol recieved trough DBGU, then handle it
    559            if (pDBGU->DBGU_CSR & 1) //symbol recieved
    560            {
    561              Sym = pDBGU->DBGU_RHR;
    562              myprintf("\n\r");
    563          //    myprintf ("Recieved symbol <%c> with code <%2X>\n\r", Sym, Sym)
    564              switch (Sym)
    565              {
    566              //******************  configuration commands  ********************//
    567              case '0': 
    568              case '1':
    569              case '2':
    570              case '3':
    571              case '4':
    572              case '5':
    573              case '6':
    574              case '7':
    575              case '8': 
    576              case '9': SetUARTRate (Sym-'0'); MyprintfConfig(); break;
   \                     ??main_4:
   \   00000194   D00089E2           ADD      R0,R9,#+208
   \   00000198   FF0000E2           AND      R0,R0,#0xFF
   \   0000019C   ........           BL       SetUARTRate
    577          
    578              case 0x3D: //Config.ModbusAddr++; 
    579                         //if (Config.ModbusAddr>255) Config.ModbusAddr = 255; 
    580                         MyprintfConfig ();
   \                     ??main_5:
   \   000001A0   ........           BL       MyprintfConfig
   \                     ??main_3:
   \   000001A4   400094E5           LDR      R0,[R4, #+64]
   \   000001A8   ........           LDR      R1,??DataTable32  ;; ADC_Buf
   \   000001AC   001180E5           STR      R1,[R0, #+256]
   \   000001B0   045180E5           STR      R5,[R0, #+260]
   \                     ??main_6:
   \   000001B4   041190E5           LDR      R1,[R0, #+260]
   \   000001B8   000051E3           CMP      R1,#+0
   \   000001BC   FCFFFF1A           BNE      ??main_6
   \   000001C0   ........           BL       CalcSKZ
   \   000001C4   080096E5           LDR      R0,[R6, #+8]
   \   000001C8   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   000001CC   ........           _BLF     sqrt,??sqrt??rA
   \   000001D0   0080A0E1           MOV      R8,R0
   \   000001D4   0190A0E1           MOV      R9,R1
   \   000001D8   98B094E5           LDR      R11,[R4, #+152]
   \   000001DC   9C0094E5           LDR      R0,[R4, #+156]
   \   000001E0   ........           _BLF     __ulongToDouble,??__ulongToDouble??rA
   \   000001E4   0820A0E1           MOV      R2,R8
   \   000001E8   0930A0E1           MOV      R3,R9
   \   000001EC   ........           _BLF     __dDiv,??__dDiv??rA
   \   000001F0   ........           _BLF     __doubleToLong,??__doubleToLong??rA
   \   000001F4   0B10A0E1           MOV      R1,R11
   \   000001F8   03002DE9           PUSH     {R0,R1}
   \   000001FC   F900D4E5           LDRB     R0,[R4, #+249]
   \   00000200   01002DE9           PUSH     {R0}
   \   00000204   A40094E5           LDR      R0,[R4, #+164]
   \   00000208   01002DE9           PUSH     {R0}
   \   0000020C   B000D4E1           LDRH     R0,[R4, #+0]
   \   00000210   01002DE9           PUSH     {R0}
   \   00000214   BA37D6E1           LDRH     R3,[R6, #+122]
   \   00000218   B827D6E1           LDRH     R2,[R6, #+120]
   \   0000021C   501087E2           ADD      R1,R7,#+80
   \   00000220   060085E0           ADD      R0,R5,R6
   \   00000224   ........           _BLF     sprintf,??sprintf??rA
   \   00000228   ........           BL       DBGU_SendBuf
   \   0000022C   480094E5           LDR      R0,[R4, #+72]
   \   00000230   FABF85E2           ADD      R11,R5,#+1000
   \   00000234   ........           ADR      R8,??DataTable29  ;; "\n\r"
   \   00000238   141090E5           LDR      R1,[R0, #+20]
   \   0000023C   400F11E3           TST      R1,#0x100
   \   00000240   14D08DE2           ADD      SP,SP,#+20       ;; stack cleaning
   \   00000244   2900000A           BEQ      ??main_7
   \   00000248   042190E5           LDR      R2,[R0, #+260]
   \   0000024C   002062E2           RSB      R2,R2,#+0
   \   00000250   0020CDE5           STRB     R2,[SP, #+0]
   \   00000254   0010A0E3           MOV      R1,#+0
   \   00000258   041180E5           STR      R1,[R0, #+260]
   \   0000025C   FA00D4E5           LDRB     R0,[R4, #+250]
   \   00000260   000050E3           CMP      R0,#+0
   \   00000264   0400000A           BEQ      ??main_8
   \   00000268   0020DDE5           LDRB     R2,[SP, #+0]
   \   0000026C   941087E2           ADD      R1,R7,#+148
   \   00000270   060085E0           ADD      R0,R5,R6
   \   00000274   ........           _BLF     sprintf,??sprintf??rA
   \   00000278   ........           BL       DBGU_SendBuf
   \                     ??main_8:
   \   0000027C   0090A0E3           MOV      R9,#+0
   \   00000280   080000EA           B        ??main_9
   \                     ??main_10:
   \   00000284   000050E3           CMP      R0,#+0
   \   00000288   0500000A           BEQ      ??main_11
   \   0000028C   060089E0           ADD      R0,R9,R6
   \   00000290   0021D0E5           LDRB     R2,[R0, #+256]
   \   00000294   A81087E2           ADD      R1,R7,#+168
   \   00000298   060085E0           ADD      R0,R5,R6
   \   0000029C   ........           _BLF     sprintf,??sprintf??rA
   \   000002A0   ........           BL       DBGU_SendBuf
   \                     ??main_11:
   \   000002A4   019089E2           ADD      R9,R9,#+1
   \                     ??main_9:
   \   000002A8   FA00D4E5           LDRB     R0,[R4, #+250]
   \   000002AC   0010DDE5           LDRB     R1,[SP, #+0]
   \   000002B0   010059E1           CMP      R9,R1
   \   000002B4   F2FFFF3A           BCC      ??main_10
   \   000002B8   000050E3           CMP      R0,#+0
   \   000002BC   0300000A           BEQ      ??main_12
   \   000002C0   0810A0E1           MOV      R1,R8
   \   000002C4   060085E0           ADD      R0,R5,R6
   \   000002C8   ........           _BLF     sprintf,??sprintf??rA
   \   000002CC   ........           BL       DBGU_SendBuf
   \                     ??main_12:
   \   000002D0   0D30A0E1           MOV      R3,SP
   \   000002D4   06208BE0           ADD      R2,R11,R6
   \   000002D8   0010DDE5           LDRB     R1,[SP, #+0]
   \   000002DC   06008AE0           ADD      R0,R10,R6
   \   000002E0   ........           BL       ProcessModbusFrame
   \   000002E4   0000DDE5           LDRB     R0,[SP, #+0]
   \   000002E8   ........           BL       US0_Send
   \   000002EC   ........           _BLF     StartTimeout,??StartTimeout??rA
   \                     ??main_7:
   \   000002F0   3C0094E5           LDR      R0,[R4, #+60]
   \   000002F4   141090E5           LDR      R1,[R0, #+20]
   \   000002F8   010011E3           TST      R1,#0x1
   \   000002FC   A8FFFF0A           BEQ      ??main_3
   \   00000300   189090E5           LDR      R9,[R0, #+24]
   \   00000304   FF9009E2           AND      R9,R9,#0xFF
   \   00000308   0810A0E1           MOV      R1,R8
   \   0000030C   060085E0           ADD      R0,R5,R6
   \   00000310   ........           _BLF     sprintf,??sprintf??rA
   \   00000314   ........           BL       DBGU_SendBuf
   \   00000318   0D0059E2           SUBS     R0,R9,#+13
   \   0000031C   3500000A           BEQ      ??main_13
   \   00000320   200050E2           SUBS     R0,R0,#+32
   \   00000324   9DFFFF0A           BEQ      ??main_5
   \   00000328   030040E2           SUB      R0,R0,#+3
   \   0000032C   090050E3           CMP      R0,#+9
   \   00000330   97FFFF9A           BLS      ??main_4
   \   00000334   0D0050E2           SUBS     R0,R0,#+13
   \   00000338   98FFFF0A           BEQ      ??main_5
   \   0000033C   1E0050E2           SUBS     R0,R0,#+30
   \   00000340   2600000A           BEQ      ??main_14
   \   00000344   020050E2           SUBS     R0,R0,#+2
   \   00000348   1C00000A           BEQ      ??main_15
   \   0000034C   040050E2           SUBS     R0,R0,#+4
   \   00000350   3E00000A           BEQ      ??main_16
   \   00000354   020050E2           SUBS     R0,R0,#+2
   \   00000358   90FFFF0A           BEQ      ??main_5
   \   0000035C   030050E2           SUBS     R0,R0,#+3
   \   00000360   3600000A           BEQ      ??main_17
   \   00000364   010050E2           SUBS     R0,R0,#+1
   \   00000368   7C00000A           BEQ      ??main_18
   \   0000036C   010050E2           SUBS     R0,R0,#+1
   \   00000370   3800000A           BEQ      ??main_19
   \   00000374   010050E2           SUBS     R0,R0,#+1
   \   00000378   2200000A           BEQ      ??main_20
   \   0000037C   040050E2           SUBS     R0,R0,#+4
   \   00000380   8400000A           BEQ      ??main_21
   \   00000384   040050E2           SUBS     R0,R0,#+4
   \   00000388   2800000A           BEQ      ??main_22
   \   0000038C   020050E2           SUBS     R0,R0,#+2
   \   00000390   2C00000A           BEQ      ??main_23
   \   00000394   010050E2           SUBS     R0,R0,#+1
   \   00000398   7500000A           BEQ      ??main_24
   \   0000039C   020050E2           SUBS     R0,R0,#+2
   \   000003A0   1600000A           BEQ      ??main_25
   \   000003A4   010050E2           SUBS     R0,R0,#+1
   \   000003A8   2200000A           BEQ      ??main_26
   \   000003AC   010050E2           SUBS     R0,R0,#+1
   \   000003B0   1B00000A           BEQ      ??main_27
   \   000003B4   020050E2           SUBS     R0,R0,#+2
   \   000003B8   1600000A           BEQ      ??main_28
   \   000003BC   7D0000EA           B        ??main_29
    581                         break; 
    582              case 0x2D: //Config.ModbusAddr--; 
    583                         //if (Config.ModbusAddr<1) Config.ModbusAddr = 1; 
    584                         MyprintfConfig ();
    585                         break; 
    586              case ']':  Config.ValFreqCount++; 
   \                     ??main_15:
   \   000003C0   080096E5           LDR      R0,[R6, #+8]
   \   000003C4   010080E2           ADD      R0,R0,#+1
   \   000003C8   080086E5           STR      R0,[R6, #+8]
    587                         if (Config.ValFreqCount>Max_ValFreqCount) Config.ValFreqCount = Max_ValFreqCount;
   \   000003CC   130050E3           CMP      R0,#+19
   \   000003D0   72FFFF3A           BCC      ??main_5
   \   000003D4   1200A0E3           MOV      R0,#+18
   \                     ??main_30:
   \   000003D8   080086E5           STR      R0,[R6, #+8]
   \   000003DC   6FFFFFEA           B        ??main_5
    588                         MyprintfConfig ();
    589                         break; 
    590              case '[':  Config.ValFreqCount--; 
   \                     ??main_14:
   \   000003E0   080096E5           LDR      R0,[R6, #+8]
   \   000003E4   010050E2           SUBS     R0,R0,#+1
   \   000003E8   080086E5           STR      R0,[R6, #+8]
    591                         if (Config.ValFreqCount<1) Config.ValFreqCount = 1; 
   \   000003EC   6BFFFF1A           BNE      ??main_5
   \   000003F0   0100A0E3           MOV      R0,#+1
   \   000003F4   F7FFFFEA           B        ??main_30
    592                         MyprintfConfig ();
    593                         break; 
    594              case 0x0D: WriteConfig (); 
   \                     ??main_13:
   \   000003F8   ........           _BLF     WriteConfig,??WriteConfig??rA
   \   000003FC   68FFFFEA           B        ??main_3
    595                         break; 
    596              case 'c':  MyprintfConfig (); 
    597                         break; 
    598              case 'v':  myprintf("Current firmware virsion is 1.7.3\n\r"); 
   \                     ??main_25:
   \   00000400   B01087E2           ADD      R1,R7,#+176
   \   00000404   5EFFFFEA           B        ??main_1
    599                         break; 
    600              case 'i':  myprintf("Identify number of the device is 55485A4D\n\r"); 
   \                     ??main_20:
   \   00000408   D41087E2           ADD      R1,R7,#+212
   \                     ??main_31:
   \   0000040C   060085E0           ADD      R0,R5,R6
   \   00000410   ........           _BLF     sprintf,??sprintf??rA
   \                     ??main_32:
   \   00000414   5CFFFFEA           B        ??main_2
    601                         break; 
    602              //******************  calibration commands  ********************//
    603              
    604              case 'z':  SetSKZ_1(); 
   \                     ??main_28:
   \   00000418   ........           BL       SetSKZ_1
    605                         myprintf("SET UP SKZ_1\n\r"); 
   \   0000041C   07108AE0           ADD      R1,R10,R7
   \   00000420   57FFFFEA           B        ??main_1
    606                         break; 
    607              case 'x':  SetSKZ_2();
   \                     ??main_27:
   \   00000424   ........           BL       SetSKZ_2
    608                         myprintf("SET UP SKZ_2 AND FREQUENCY ORDER\n\r"); 
   \   00000428   441F87E2           ADD      R1,R7,#+272
   \   0000042C   F6FFFFEA           B        ??main_31
    609                         break; 
    610              case 'q':  myprintfSKZ_1(); 
   \                     ??main_22:
   \   00000430   ........           BL       myprintfSKZ_1
   \   00000434   5AFFFFEA           B        ??main_3
    611                         break; 
    612              case 'w':  myprintfSKZ_2(); 
   \                     ??main_26:
   \   00000438   ........           BL       myprintfSKZ_2
   \   0000043C   58FFFFEA           B        ??main_3
    613                         break; 
    614              case 'f':  myprintfFreqOrder(); 
   \                     ??main_17:
   \   00000440   ........           BL       myprintfFreqOrder
   \   00000444   56FFFFEA           B        ??main_3
    615                         break; 
    616              case 's':  myprintfSKZSpectr(); 
   \                     ??main_23:
   \   00000448   ........           BL       myprintfSKZSpectr
   \   0000044C   54FFFFEA           B        ??main_3
    617                         break; 
    618              case 'a':  myprintfSKZ(); 
   \                     ??main_16:
   \   00000450   ........           BL       myprintfSKZ
   \   00000454   52FFFFEA           B        ??main_3
    619                         break; 
    620          
    621              //******************  calibration commands  ********************//
    622          
    623              case 'h': myprintf ("0 ... 9 - Set UART speed 300 ... 115200\n\r"); 
   \                     ??main_19:
   \   00000458   4D1F87E2           ADD      R1,R7,#+308
   \   0000045C   060085E0           ADD      R0,R5,R6
   \   00000460   ........           _BLF     sprintf,??sprintf??rA
   \   00000464   ........           BL       DBGU_SendBuf
    624                        myprintf ("- / +  - Decrement / increment MODBUS address\n\r"); 
   \   00000468   581F87E2           ADD      R1,R7,#+352
   \   0000046C   060085E0           ADD      R0,R5,R6
   \   00000470   ........           _BLF     sprintf,??sprintf??rA
   \   00000474   ........           BL       DBGU_SendBuf
    625                        myprintf ("[ / ]  - Decrement / increment frecuency count\n\r"); 
   \   00000478   641F87E2           ADD      R1,R7,#+400
   \   0000047C   060085E0           ADD      R0,R5,R6
   \   00000480   ........           _BLF     sprintf,??sprintf??rA
   \   00000484   ........           BL       DBGU_SendBuf
    626                        myprintf ("c      - Display current configuration\n\r"); 
   \   00000488   711F87E2           ADD      R1,R7,#+452
   \   0000048C   060085E0           ADD      R0,R5,R6
   \   00000490   ........           _BLF     sprintf,??sprintf??rA
   \   00000494   ........           BL       DBGU_SendBuf
    627                        myprintf ("Enter  - Save currrent configuration to flash memory\n\r"); 
   \   00000498   7C1F87E2           ADD      R1,R7,#+496
   \   0000049C   060085E0           ADD      R0,R5,R6
   \   000004A0   ........           _BLF     sprintf,??sprintf??rA
   \   000004A4   ........           BL       DBGU_SendBuf
    628                        myprintf ("z / x  - Save current SKZ as first / second calibration point\n\r"); 
   \   000004A8   8A1F87E2           ADD      R1,R7,#+552
   \   000004AC   060085E0           ADD      R0,R5,R6
   \   000004B0   ........           _BLF     sprintf,??sprintf??rA
   \   000004B4   ........           BL       DBGU_SendBuf
    629                        myprintf ("q / w  - Display first / second calibration point\n\r"); 
   \   000004B8   9A1F87E2           ADD      R1,R7,#+616
   \   000004BC   060085E0           ADD      R0,R5,R6
   \   000004C0   ........           _BLF     sprintf,??sprintf??rA
   \   000004C4   ........           BL       DBGU_SendBuf
    630                        myprintf ("f      - View frequency order\n\r"); 
   \   000004C8   A71F87E2           ADD      R1,R7,#+668
   \   000004CC   060085E0           ADD      R0,R5,R6
   \   000004D0   ........           _BLF     sprintf,??sprintf??rA
   \   000004D4   ........           BL       DBGU_SendBuf
    631                        myprintf ("s      - View current SKZ as spectre\n\r"); 
   \   000004D8   AF1F87E2           ADD      R1,R7,#+700
   \   000004DC   060085E0           ADD      R0,R5,R6
   \   000004E0   ........           _BLF     sprintf,??sprintf??rA
   \   000004E4   ........           BL       DBGU_SendBuf
    632                        myprintf ("a      - View current SKZ as values\n\r"); 
   \   000004E8   441E87E2           ADD      R1,R7,#+1088
   \   000004EC   060085E0           ADD      R0,R5,R6
   \   000004F0   ........           _BLF     sprintf,??sprintf??rA
   \   000004F4   ........           BL       DBGU_SendBuf
    633                        myprintf ("h      - This help screen\n\r"); 
   \   000004F8   B91F87E2           ADD      R1,R7,#+740
   \   000004FC   060085E0           ADD      R0,R5,R6
   \   00000500   ........           _BLF     sprintf,??sprintf??rA
   \   00000504   ........           BL       DBGU_SendBuf
    634                        myprintf ("g      - Display current gain\n\r"); 
   \   00000508   C01F87E2           ADD      R1,R7,#+768
   \   0000050C   060085E0           ADD      R0,R5,R6
   \   00000510   ........           _BLF     sprintf,??sprintf??rA
   \   00000514   ........           BL       DBGU_SendBuf
    635                        myprintf ("t      - Test message to MODBUS port\n\r"); 
   \   00000518   C81F87E2           ADD      R1,R7,#+800
   \   0000051C   060085E0           ADD      R0,R5,R6
   \   00000520   ........           _BLF     sprintf,??sprintf??rA
   \   00000524   ........           BL       DBGU_SendBuf
    636                        myprintf ("m      - Toggle on/off displaying MODBUS command processing\n\r"); 
   \   00000528   D21F87E2           ADD      R1,R7,#+840
   \   0000052C   060085E0           ADD      R0,R5,R6
   \   00000530   ........           _BLF     sprintf,??sprintf??rA
   \   00000534   ........           BL       DBGU_SendBuf
    637                        myprintf ("v      - View version of firmware\n\r"); 
   \   00000538   E21F87E2           ADD      R1,R7,#+904
   \   0000053C   060085E0           ADD      R0,R5,R6
   \   00000540   ........           _BLF     sprintf,??sprintf??rA
   \   00000544   ........           BL       DBGU_SendBuf
    638                        myprintf ("i      - View identify number of the device\n\r"); 
   \   00000548   EB1F87E2           ADD      R1,R7,#+940
   \   0000054C   060085E0           ADD      R0,R5,R6
   \   00000550   ........           _BLF     sprintf,??sprintf??rA
   \   00000554   ........           BL       DBGU_SendBuf
    639                        myprintf ("\n\r"); 
   \   00000558   0810A0E1           MOV      R1,R8
   \   0000055C   08FFFFEA           B        ??main_1
    640                        break;
    641              case 'g': myprintf ("Current gain <%d>\n\r", Gain); 
   \                     ??main_18:
   \   00000560   D82FD4E1           LDRSB    R2,[R4, #+248]
   \   00000564   F71F87E2           ADD      R1,R7,#+988
   \   00000568   060085E0           ADD      R0,R5,R6
   \   0000056C   ........           _BLF     sprintf,??sprintf??rA
   \   00000570   05FFFFEA           B        ??main_2
    642                        break; 
    643              case 't': myprintf("Test UART for send\n\r"); 
   \                     ??main_24:
   \   00000574   FC1F87E2           ADD      R1,R7,#+1008
   \   00000578   060085E0           ADD      R0,R5,R6
   \   0000057C   ........           _BLF     sprintf,??sprintf??rA
   \   00000580   ........           BL       DBGU_SendBuf
    644                        US0printf("Test UART for send\n\r");
   \   00000584   FC1F87E2           ADD      R1,R7,#+1008
   \   00000588   06008BE0           ADD      R0,R11,R6
   \   0000058C   ........           _BLF     sprintf,??sprintf??rA
   \   00000590   ........           BL       US0_Send
   \   00000594   02FFFFEA           B        ??main_3
    645                        break; 
    646              case 'm': ViewModbus ^= 0x01; myprintf("Modbus is %d\n\r", ViewModbus); 
   \                     ??main_21:
   \   00000598   FA00D4E5           LDRB     R0,[R4, #+250]
   \   0000059C   012020E2           EOR      R2,R0,#0x1
   \   000005A0   FA20C4E5           STRB     R2,[R4, #+250]
   \   000005A4   820F85E2           ADD      R0,R5,#+520
   \   000005A8   071080E0           ADD      R1,R0,R7
   \   000005AC   060085E0           ADD      R0,R5,R6
   \   000005B0   ........           _BLF     sprintf,??sprintf??rA
   \   000005B4   F4FEFFEA           B        ??main_2
    647                        break; 
    648          
    649          /*    case '/': CalcSKZ(); 
    650                        break; 
    651          */
    652          /*    case ',': GainCode--; SetGainCode(GainCode); myprintf("Gain Code %3d\n\r", GainCode);
    653                        break;
    654              case '.': GainCode++; SetGainCode(GainCode); myprintf("Gain Code %3d\n\r", GainCode);
    655                        break;
    656          */
    657              default: myprintf ("Recieved symbol <%c> with code <%2X>\n\r", Sym, Sym);
   \                     ??main_29:
   \   000005B8   0930A0E1           MOV      R3,R9
   \   000005BC   0920A0E1           MOV      R2,R9
   \   000005C0   860F85E2           ADD      R0,R5,#+536
   \   000005C4   071080E0           ADD      R1,R0,R7
   \   000005C8   060085E0           ADD      R0,R5,R6
   \   000005CC   ........           _BLF     sprintf,??sprintf??rA
   \   000005D0   EDFEFFEA           B        ??main_2
   \                     ??main_0:
   \   000005D4   E0760080           DC32     0x800076e0
   \   000005D8   ........           DC32     `?<Constant "\\n\\r>Start of work\\n\\r">`
    658              }
    659            }
    660          }
    661          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   ........           DC32     ADC_Buf

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable14:
   \   00000000   764837C2           DC32     0xc2374876

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable15:
   \   00000000   0A0D0000           DC8      "\n\r",+0

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable16:
   \   00000000   ........           DC32     _A_RAMConfig

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable19:
   \   00000000   ........           DC32     _A_RAMConfig + 512

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable23:
   \   00000000   ........           DC32     ValSKZ

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable27:
   \   00000000   ........           DC32     ValSKZ

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable28:
   \   00000000   ........           DC32     _A_RAMConfig

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable29:
   \   00000000   0A0D0000           DC8      "\n\r",+0

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable30:
   \   00000000   ........           DC32     ValSKZ

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable31:
   \   00000000   ........           DC32     _A_RAMConfig

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable32:
   \   00000000   ........           DC32     ADC_Buf

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for ValSKZ>`:
   \   00000000   0000               DC8 0, 0
   \   00000002   0000               DC8 0, 0
   \                     `?<Initializer for SKZ>`:
   \   00000004   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000014   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000        
   \                     `?<Initializer for Cos>`:
   \   00000028   ........           DC32 CosSinTable
   \                     `?<Initializer for Sin>`:
   \   0000002C   ........           DC32 CosSinTable + 2000H
   \                     `?<Initializer for pPMC>`:
   \   00000030   00FCFFFF           DC32 0FFFFFC00H
   \                     `?<Initializer for pPIO>`:
   \   00000034   00F4FFFF           DC32 0FFFFF400H
   \                     `?<Initializer for pTC0>`:
   \   00000038   0000FAFF           DC32 0FFFA0000H
   \                     `?<Initializer for pDBGU>`:
   \   0000003C   00F2FFFF           DC32 0FFFFF200H
   \                     `?<Initializer for pADC>`:
   \   00000040   0080FDFF           DC32 0FFFD8000H
   \                     `?<Initializer for pSPI>`:
   \   00000044   0000FEFF           DC32 0FFFE0000H
   \                     `?<Initializer for pUS0>`:
   \   00000048   0000FCFF           DC32 0FFFC0000H
   \                     `?<Initializer for first_pass>`:
   \   0000004C   01000000           DC32 1
   \                     `?<Initializer for f_SKZ>`:
   \   00000050   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000060   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000070   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000080   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000090   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0
   \              0000        
   \                     `?<Initializer for MinSKZ_val>`:
   \   00000098   1E000000           DC32 30
   \                     `?<Initializer for Object_on_level>`:
   \   0000009C   28000000           DC32 40
   \                     `?<Initializer for Object_on>`:
   \   000000A0   00000000           DC32 0
   \                     `?<Initializer for RelValSKZ>`:
   \   000000A4   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for UARTRateTable>`:
   \   000000A8   2C0100005802       DC32 300, 600, 1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200
   \              0000B0040000
   \              60090000C012
   \              000080250000
   \              004B00000096
   \              000000E10000
   \              00C20100    
   \                     `?<Initializer for UARTTimeoutTable>`:
   \   000000D0   270000002700       DC32 39, 39, 39, 39, 39, 39, 39, 78, 117, 234
   \              000027000000
   \              270000002700
   \              000027000000
   \              270000004E00
   \              000075000000
   \              EA000000    
   \                     `?<Initializer for Gain>`:
   \   000000F8   00                 DC8 0
   \                     `?<Initializer for RelValSKZ1toSKZ2>`:
   \   000000F9   00                 DC8 0
   \                     `?<Initializer for ViewModbus>`:
   \   000000FA   00                 DC8 0
   \   000000FB   00                 DC8 0
   \                     `?<Initializer for GainTable>`:
   \   000000FC   0080C0E0F0F8       DC8 0, 128, 192, 224, 240, 248, 252, 254, 255, 0, 0, 0
   \              FCFEFF000000

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Wrong modbus addr\\n\\r">`:
   \   00000000   57726F6E6720       DC8 "Wrong modbus addr\012\015"
   \              6D6F64627573
   \              20616464720A
   \              0D00        
   \   00000014   57726F6E6720       DC8 "Wrong modbus crc\012\015"
   \              6D6F64627573
   \              206372630A0D
   \              00          
   \   00000027   00                 DC8 0
   \   00000028   57726F6E6720       DC8 "Wrong func code %d\012\015"
   \              66756E632063
   \              6F6465202564
   \              0A0D00      
   \   0000003D   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\n\\r>Start of work\\n\\r">`:
   \   00000000   0A0D3E537461       DC8 "\012\015>Start of work\012\015"
   \              7274206F6620
   \              776F726B0A0D
   \              00          
   \   00000013   00                 DC8 0
   \   00000014   3E4465627567       DC8 ">Debug interface ready\012\015"
   \              20696E746572
   \              666163652072
   \              656164790A0D
   \              00          
   \   0000002D   000000             DC8 0, 0, 0
   \   00000030   456E74657269       DC8 "Entering main endless loop\012\015"
   \              6E67206D6169
   \              6E20656E646C
   \              657373206C6F
   \              6F700A0D00  
   \   0000004D   000000             DC8 0, 0, 0
   \   00000050   0D534B5A313A       DC8 0DH, 53H, 4BH, 5AH, 31H, 3AH, 25H, 36H
   \              2536        
   \   00000058   6420534B5A32       DC8 64H, 20H, 53H, 4BH, 5AH, 32H, 3AH, 25H
   \              3A25        
   \   00000060   366420534B5A       DC8 36H, 64H, 20H, 53H, 4BH, 5AH, 3AH, 25H
   \              3A25        
   \   00000068   36643D253364       DC8 36H, 64H, 3DH, 25H, 33H, 64H, 20H, 53H
   \              2053        
   \   00000070   4B5A312F534B       DC8 4BH, 5AH, 31H, 2FH, 53H, 4BH, 5AH, 32H
   \              5A32        
   \   00000078   3A2533642045       DC8 3AH, 25H, 33H, 64H, 20H, 45H, 6EH, 56H
   \              6E56        
   \   00000080   616C3A253664       DC8 61H, 6CH, 3AH, 25H, 36H, 64H, 20H, 4DH
   \              204D        
   \   00000088   696E56616C3A       DC8 69H, 6EH, 56H, 61H, 6CH, 3AH, 25H, 36H
   \              2536        
   \   00000090   6400               DC8 64H, 0
   \   00000092   0000               DC8 0, 0
   \   00000094   526563696576       DC8 "Recieved %d chars\012\015"
   \              656420256420
   \              63686172730A
   \              0D00        
   \   000000A8   2532582000         DC8 "%2X "
   \   000000AD   000000             DC8 0, 0, 0
   \   000000B0   43757272656E       DC8 "Current firmware virsion is 1.7.3\012\015"
   \              74206669726D
   \              776172652076
   \              697273696F6E
   \              20697320312E
   \              372E330A0D00
   \   000000D4   4964656E7469       DC8 "Identify number of the device is 55485A4D\012\015"
   \              6679206E756D
   \              626572206F66
   \              207468652064
   \              657669636520
   \              697320353534
   \              38354134440A
   \              0D00        
   \   00000100   534554205550       DC8 "SET UP SKZ_1\012\015"
   \              20534B5A5F31
   \              0A0D00      
   \   0000010F   00                 DC8 0
   \   00000110   534554205550       DC8 "SET UP SKZ_2 AND FREQUENCY ORDER\012\015"
   \              20534B5A5F32
   \              20414E442046
   \              52455155454E
   \              4359204F5244
   \              45520A0D00  
   \   00000133   00                 DC8 0
   \   00000134   30202E2E2E20       DC8 "0 ... 9 - Set UART speed 300 ... 115200\012\015"
   \              39202D205365
   \              742055415254
   \              207370656564
   \              20333030202E
   \              2E2E20313135
   \              3230300A0D00
   \   0000015E   0000               DC8 0, 0
   \   00000160   2D202F202B20       DC8 "- / +  - Decrement / increment MODBUS address\012\015"
   \              202D20446563
   \              72656D656E74
   \              202F20696E63
   \              72656D656E74
   \              204D4F444255
   \              532061646472
   \              6573730A0D00
   \   00000190   5B202F205D20       DC8 "[ / ]  - Decrement / increment frecuency count\012\015"
   \              202D20446563
   \              72656D656E74
   \              202F20696E63
   \              72656D656E74
   \              206672656375
   \              656E63792063
   \              6F756E740A0D
   \              00          
   \   000001C1   000000             DC8 0, 0, 0
   \   000001C4   632020202020       DC8 "c      - Display current configuration\012\015"
   \              202D20446973
   \              706C61792063
   \              757272656E74
   \              20636F6E6669
   \              677572617469
   \              6F6E0A0D00  
   \   000001ED   000000             DC8 0, 0, 0
   \   000001F0   456E74657220       DC8 45H, 6EH, 74H, 65H, 72H, 20H, 20H, 2DH
   \              202D        
   \   000001F8   205361766520       DC8 20H, 53H, 61H, 76H, 65H, 20H, 63H, 75H
   \              6375        
   \   00000200   727272656E74       DC8 72H, 72H, 72H, 65H, 6EH, 74H, 20H, 63H
   \              2063        
   \   00000208   6F6E66696775       DC8 6FH, 6EH, 66H, 69H, 67H, 75H, 72H, 61H
   \              7261        
   \   00000210   74696F6E2074       DC8 74H, 69H, 6FH, 6EH, 20H, 74H, 6FH, 20H
   \              6F20        
   \   00000218   666C61736820       DC8 66H, 6CH, 61H, 73H, 68H, 20H, 6DH, 65H
   \              6D65        
   \   00000220   6D6F72790A0D       DC8 6DH, 6FH, 72H, 79H, 0AH, 0DH, 0
   \              00          
   \   00000227   00                 DC8 0
   \   00000228   7A202F207820       DC8 7AH, 20H, 2FH, 20H, 78H, 20H, 20H, 2DH
   \              202D        
   \   00000230   205361766520       DC8 20H, 53H, 61H, 76H, 65H, 20H, 63H, 75H
   \              6375        
   \   00000238   7272656E7420       DC8 72H, 72H, 65H, 6EH, 74H, 20H, 53H, 4BH
   \              534B        
   \   00000240   5A2061732066       DC8 5AH, 20H, 61H, 73H, 20H, 66H, 69H, 72H
   \              6972        
   \   00000248   7374202F2073       DC8 73H, 74H, 20H, 2FH, 20H, 73H, 65H, 63H
   \              6563        
   \   00000250   6F6E64206361       DC8 6FH, 6EH, 64H, 20H, 63H, 61H, 6CH, 69H
   \              6C69        
   \   00000258   62726174696F       DC8 62H, 72H, 61H, 74H, 69H, 6FH, 6EH, 20H
   \              6E20        
   \   00000260   706F696E740A       DC8 70H, 6FH, 69H, 6EH, 74H, 0AH, 0DH, 0
   \              0D00        
   \   00000268   71202F207720       DC8 71H, 20H, 2FH, 20H, 77H, 20H, 20H, 2DH
   \              202D        
   \   00000270   20446973706C       DC8 20H, 44H, 69H, 73H, 70H, 6CH, 61H, 79H
   \              6179        
   \   00000278   206669727374       DC8 20H, 66H, 69H, 72H, 73H, 74H, 20H, 2FH
   \              202F        
   \   00000280   207365636F6E       DC8 20H, 73H, 65H, 63H, 6FH, 6EH, 64H, 20H
   \              6420        
   \   00000288   63616C696272       DC8 63H, 61H, 6CH, 69H, 62H, 72H, 61H, 74H
   \              6174        
   \   00000290   696F6E20706F       DC8 69H, 6FH, 6EH, 20H, 70H, 6FH, 69H, 6EH
   \              696E        
   \   00000298   740A0D00           DC8 74H, 0AH, 0DH, 0
   \   0000029C   662020202020       DC8 "f      - View frequency order\012\015"
   \              202D20566965
   \              772066726571
   \              75656E637920
   \              6F726465720A
   \              0D00        
   \   000002BC   732020202020       DC8 "s      - View current SKZ as spectre\012\015"
   \              202D20566965
   \              772063757272
   \              656E7420534B
   \              5A2061732073
   \              706563747265
   \              0A0D00      
   \   000002E3   00                 DC8 0
   \   000002E4   682020202020       DC8 "h      - This help screen\012\015"
   \              202D20546869
   \              732068656C70
   \              207363726565
   \              6E0A0D00    
   \   00000300   672020202020       DC8 "g      - Display current gain\012\015"
   \              202D20446973
   \              706C61792063
   \              757272656E74
   \              206761696E0A
   \              0D00        
   \   00000320   742020202020       DC8 "t      - Test message to MODBUS port\012\015"
   \              202D20546573
   \              74206D657373
   \              61676520746F
   \              204D4F444255
   \              5320706F7274
   \              0A0D00      
   \   00000347   00                 DC8 0
   \   00000348   6D2020202020       DC8 6DH, 20H, 20H, 20H, 20H, 20H, 20H, 2DH
   \              202D        
   \   00000350   20546F67676C       DC8 20H, 54H, 6FH, 67H, 67H, 6CH, 65H, 20H
   \              6520        
   \   00000358   6F6E2F6F6666       DC8 6FH, 6EH, 2FH, 6FH, 66H, 66H, 20H, 64H
   \              2064        
   \   00000360   6973706C6179       DC8 69H, 73H, 70H, 6CH, 61H, 79H, 69H, 6EH
   \              696E        
   \   00000368   67204D4F4442       DC8 67H, 20H, 4DH, 4FH, 44H, 42H, 55H, 53H
   \              5553        
   \   00000370   20636F6D6D61       DC8 20H, 63H, 6FH, 6DH, 6DH, 61H, 6EH, 64H
   \              6E64        
   \   00000378   2070726F6365       DC8 20H, 70H, 72H, 6FH, 63H, 65H, 73H, 73H
   \              7373        
   \   00000380   696E670A0D00       DC8 69H, 6EH, 67H, 0AH, 0DH, 0
   \   00000386   0000               DC8 0, 0
   \   00000388   762020202020       DC8 "v      - View version of firmware\012\015"
   \              202D20566965
   \              772076657273
   \              696F6E206F66
   \              206669726D77
   \              6172650A0D00
   \   000003AC   692020202020       DC8 "i      - View identify number of the device\012\015"
   \              202D20566965
   \              77206964656E
   \              74696679206E
   \              756D62657220
   \              6F6620746865
   \              206465766963
   \              650A0D00    
   \   000003DA   0000               DC8 0, 0
   \   000003DC   43757272656E       DC8 "Current gain <%d>\012\015"
   \              74206761696E
   \              203C25643E0A
   \              0D00        
   \   000003F0   546573742055       DC8 "Test UART for send\012\015"
   \              41525420666F
   \              722073656E64
   \              0A0D00      
   \   00000405   000000             DC8 0, 0, 0
   \   00000408   4D6F64627573       DC8 "Modbus is %d\012\015"
   \              206973202564
   \              0A0D00      
   \   00000417   00                 DC8 0
   \   00000418   526563696576       DC8 "Recieved symbol <%c> with code <%2X>\012\015"
   \              65642073796D
   \              626F6C203C25
   \              633E20776974
   \              6820636F6465
   \              203C2532583E
   \              0A0D00      
   \   0000043F   00                 DC8 0
   \   00000440   612020202020       DC8 "a      - View current SKZ as values\012\015"
   \              202D20566965
   \              772063757272
   \              656E7420534B
   \              5A2061732076
   \              616C7565730A
   \              0D00        
   \   00000466   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "SKZ[%2d] = %d\\n\\r">`:
   \   00000000   534B5A5B2532       DC8 "SKZ[%2d] = %d\012\015"
   \              645D203D2025
   \              640A0D00    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "UART: %6d, Addr: %3d ...">`:
   \   00000000   554152543A20       DC8 55H, 41H, 52H, 54H, 3AH, 20H, 25H, 36H
   \              2536        
   \   00000008   642C20416464       DC8 64H, 2CH, 20H, 41H, 64H, 64H, 72H, 3AH
   \              723A        
   \   00000010   20253364203D       DC8 20H, 25H, 33H, 64H, 20H, 3DH, 20H, 30H
   \              2030        
   \   00000018   782532582046       DC8 78H, 25H, 32H, 58H, 20H, 46H, 72H, 65H
   \              7265        
   \   00000020   713A20253264       DC8 71H, 3AH, 20H, 25H, 32H, 64H, 20H, 28H
   \              2028        
   \   00000028   456E74657220       DC8 45H, 6EH, 74H, 65H, 72H, 20H, 74H, 6FH
   \              746F        
   \   00000030   207361766529       DC8 20H, 73H, 61H, 76H, 65H, 29H, 0AH, 0DH
   \              0A0D        
   \   00000038   00                 DC8 0
   \   00000039   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "_____________________...">`:
   \   00000000   5F5F5F5F5F5F       DC8 "____________________________________\012\015"
   \              5F5F5F5F5F5F
   \              5F5F5F5F5F5F
   \              5F5F5F5F5F5F
   \              5F5F5F5F5F5F
   \              5F5F5F5F5F5F
   \              0A0D00      
   \   00000027   00                 DC8 0
   \   00000028   253464207C20       DC8 "%4d | "
   \              00          
   \   0000002F   00                 DC8 0

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   2A00               DC8 "*"

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   2000               DC8 " "

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   0A0D00             DC8 "\012\015"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "SKZ1[%2d] = %d\\n\\r">`:
   \   00000000   534B5A315B25       DC8 "SKZ1[%2d] = %d\012\015"
   \              32645D203D20
   \              25640A0D00  
   \   00000011   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "SKZ2[%2d] = %d\\n\\r">`:
   \   00000000   534B5A325B25       DC8 "SKZ2[%2d] = %d\012\015"
   \              32645D203D20
   \              25640A0D00  
   \   00000011   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "FreqOrder[%2d] = %d  ...">`:
   \   00000000   467265714F72       DC8 "FreqOrder[%2d] = %d  %3d\012\015"
   \              6465725B2532
   \              645D203D2025
   \              642020253364
   \              0A0D00      
   \   0000001B   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Wrong 04func frame le...">`:
   \   00000000   57726F6E6720       DC8 "Wrong 04func frame length %d\012\015"
   \              303466756E63
   \              206672616D65
   \              206C656E6774
   \              682025640A0D
   \              00          
   \   0000001F   00                 DC8 0
   \   00000020   57726F6E6720       DC8 "Wrong 04func reg count %d\012\015"
   \              303466756E63
   \              207265672063
   \              6F756E742025
   \              640A0D00    
   \   0000003C   526561642069       DC8 "Read input reg 0x%X = %d\012\015"
   \              6E7075742072
   \              656720307825
   \              58203D202564
   \              0A0D00      
   \   00000057   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Write holding reg 0x%...">`:
   \   00000000   577269746520       DC8 "Write holding reg 0x%X = %d\012\015"
   \              686F6C64696E
   \              672072656720
   \              30782558203D
   \              2025640A0D00
   \   0000001E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Wrong 06func frame le...">`:
   \   00000000   57726F6E6720       DC8 "Wrong 06func frame length %d\012\015"
   \              303666756E63
   \              206672616D65
   \              206C656E6774
   \              682025640A0D
   \              00          
   \   0000001F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Wrong 10func reg coun...">`:
   \   00000000   57726F6E6720       DC8 "Wrong 10func reg count %d or wrong bytecount%d\012\015"
   \              313066756E63
   \              207265672063
   \              6F756E742025
   \              64206F722077
   \              726F6E672062
   \              797465636F75
   \              6E7425640A0D
   \              00          
   \   00000031   000000             DC8 0, 0, 0
   \   00000034   57726F6E6720       DC8 "Wrong 10func frame length %d\012\015"
   \              313066756E63
   \              206672616D65
   \              206C656E6774
   \              682025640A0D
   \              00          
   \   00000053   00                 DC8 0

   Maximum stack usage in bytes:

     Function                    CSTACK
     --------                    ------
     CalcSKZ                       900
     CalcValSKZ                     16
     DBGU_SendBuf                    0
     ModbusCRC                       8
     MyprintfConfig                 12
     ParseRead_InputReg             44
     ParseWriteMulty_HoldingReg     32
     ParseWriteSingle_HoldingReg    12
     ProcessModbusFrame             36
     ReadInitConfig                 16
     ReadInputReg                    0
     Read_SKZ_func                   4
     SKZ_arrays_read                16
     SetGain                         0
     SetModbusAddr                   0
     SetSKZ_1                        4
     SetSKZ_2                      180
     SetSKZ_2_                     180
     SetUARTRate                     4
     SetValFreqCount                 0
     StartTimeout                    0
     US0_Send                        0
     US0_SetBaudRate                 4
     WriteConfig                    12
     WriteHoldingReg                20
     main                           60
     myprintfFreqOrder              16
     myprintfSKZ                     8
     myprintfSKZSpectr              32
     myprintfSKZ_1                  12
     myprintfSKZ_2                  12


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     ADC_Buf                        1024
     DBGU_SendBuf                     20
     ?Subroutine0                     60
     US0_Send                         12
     SetGain                          56
     GainCode                          1
     ReadSKZ1                         72
     ReadSKZ2                         72
     DefaultConfig                   612
     _A_RAMConfig                   1768
     US0_SetBaudRate                  52
     WriteConfig                     124
     ReadInitConfig                  140
     MyprintfConfig                   64
     SetUARTRate                      12
     SetModbusAddr                    12
     SetValFreqCount                  12
     CalcValSKZ                      128
     CalcSKZ                         988
     SetSKZ_1                         32
     SetSKZ_2                        176
     ?Subroutine1                    180
     SetSKZ_2_                       156
     myprintfSKZSpectr               184
     myprintfSKZ                      60
     myprintfSKZ_1                    64
     myprintfSKZ_2                    64
     myprintfFreqOrder                80
     ValSKZ                          264
     ModbusCRC                       112
     ReadInputReg                    200
     Read_SKZ_func                    68
     SKZ_arrays_read                 200
     ParseRead_InputReg              328
     WriteHoldingReg                 212
     ParseWriteSingle_HoldingReg     188
     ParseWriteMulty_HoldingReg      320
     ProcessModbusFrame              492
     StartTimeout                     52
     main                           1500
     ??DataTable6                      4
     ??DataTable14                     4
     ??DataTable15                     4
     ??DataTable16                     4
     ??DataTable19                     4
     ??DataTable23                     4
     ??DataTable27                     4
     ??DataTable28                     4
     ??DataTable29                     4
     ??DataTable30                     4
     ??DataTable31                     4
     ??DataTable32                     4
     ?<Initializer for ValSKZ>       264
     ?<Constant "Wrong modbus addr\n\r">
                                      64
     ?<Constant "\n\r>Start of work\n\r">
                                    1128
     ?<Constant "SKZ[%2d] = %d\n\r">
                                      16
     ?<Constant "UART: %6d, Addr: %3d ...">
                                      60
     ?<Constant "_____________________...">
                                      48
     ?<Constant "*">                   2
     ?<Constant " ">                   2
     ?<Constant "\n\r">                3
     ?<Constant "SKZ1[%2d] = %d\n\r">
                                      20
     ?<Constant "SKZ2[%2d] = %d\n\r">
                                      20
     ?<Constant "FreqOrder[%2d] = %d  ...">
                                      28
     ?<Constant "Wrong 04func frame le...">
                                      88
     ?<Constant "Write holding reg 0x%...">
                                      32
     ?<Constant "Wrong 06func frame le...">
                                      32
     ?<Constant "Wrong 10func reg coun...">
                                      84
      Others                         420

 
 6 632 bytes in segment CODE
   148 bytes in segment CODE_I
 2 239 bytes in segment DATA_C
   264 bytes in segment DATA_I
   264 bytes in segment DATA_ID
 2 792 bytes in segment DATA_N
   145 bytes in segment DATA_Z
    36 bytes in segment INITTAB
 
 5 132 bytes of CODE  memory (+ 1 684 bytes shared)
 2 503 bytes of CONST memory
 3 201 bytes of DATA  memory

Errors: none
Warnings: 12
